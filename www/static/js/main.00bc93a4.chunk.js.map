{"version":3,"sources":["assets/Image/logo/logo_red.png","assets/Image/google.png","assets/Image/avatar_square.png","assets/Image/chatBg.jpg","assets/Image/logo/skychat_red.png","assets/Image/logo/skychat_blue.png","assets/Image/logo/logo_blue.png","assets/Image/logo/skychat_light_1.png","assets/audio/ui_loading.wav","assets/audio/completed.wav","assets/Image/chat_bg_dark.jpg","assets/Image/group.png","assets/Image/friends.png","assets/Image/avatar-red.png","assets/Image/logo/skychat_light_2.png","component/UI/BtModal/BtModal.js","component/UI/Toast/Toast.js","component/UI/Spinner/Spinner.js","firebase.js","component/UI/Input/Input.js","component/Forms/Search/Searxh.js","component/Logo/Logo.js","container/Messages/PlaceHolder/Placeholder.js","component/Chats/Chats.js","component/Forms/chatInput/chatInput.js","component/Chats/Chat/Chat.js","component/Chats/Chat/groupChat.js","component/Audio/Audio.js","container/Messages/Chatroom/Chatroom.js","component/Chats/StartChat/StartChat.js","container/Messages/Messages.js","component/UI/Alert/Alert.js","container/Edit/Edit.js","container/Home/Home.js","component/Navigation/Toolbar/Toolbar.js","component/UI/Backdrop/Backdrop.js","component/UI/Modal/Modal.js","component/Friends/Friends.js","component/Friends/Request.js","component/Posts/Post/Post.js","component/Posts/Posts.js","component/Forms/NewPost/NewPost.js","container/Profile/Timeline/Timeline.js","component/Notify/Notify.js","component/Display/Display.js","container/Menu/Menu.js","component/feed/feed.js","container/Profile/Profile.js","component/Forms/Login/Login.js","component/Forms/SignUp/SignUp.js","container/User/User.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Modal","this","props","show","document","getElementById","click","Fragment","type","id","className","data-toggle","data-target","tabIndex","role","title","data-dismiss","aria-label","aria-hidden","children","btn","onClick","style","background","color","Component","classes","toast","spinner","fontSize","Loader","message","size","paddingTop","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","input","inputElement","elementType","elementConfig","value","onChange","changed","options","map","option","key","displayValue","formGroup","htmlFor","label","formLabelGroup","Search","state","form","search","placeholder","required","inputChanged","e","updatedForm","updatedFormEl","target","setState","formElementArray","push","config","onSubmit","submit","el","logo","Logo","height","width","src","Logo1","alt","Logo2","Logo3","Logo4","Logo5","placeHolder","Chat","loading","hasChats","chats","getChats","uid","username","database","ref","on","s","chatsId","val","chatArr","keys","cur","snap","lastChat","num","user","metadata","description","modified","lastChatMessage","Object","length","now","Date","date","month","getMonth","year","getFullYear","monthDay","getDate","week","getDay","hour","getHours","min","getMinutes","lastTime","getTime","clock","current","sender","undefined","chat","chatHead","icon","link","time","forEach","i","splice","reverse","profilePicture","sort","a","b","auth","onAuthStateChanged","userId","displayName","console","log","Chats","to","picture","minWidth","split","join","substring","Array","from","seen","chatInput","textInput","scrollHeight","changeStyle","sendChat","msgInput","alignSelf","rows","border","outline","lineHeight","chatRef","React","createRef","classname","offsetHeight","lg","lg2","currentUser","sent","difference","skymail","added","toLowerCase","received","dangerouslySetInnerHTML","__html","Math","floor","random","gchat","name","audio","createElement","success","play","Chatroom","path","receiverData","senderData","senderId","isGroup","change","con","setTimeout","scrollTop","chatId","groupIcon","members","once","users","k","Play","allChats","sendChats","event","preventDefault","match","params","dat","set","photoURL","chatroom","navbar","cursor","marginBottom","objectFit","withRouter","StartChat","friends","Picture","inputChange","descChange","getUsers","remove","toggleMember","arr","shouldSplit","currentTarget","outerHTML","innerHTML","createGroup","chatref","toLocaleLowerCase","alert","child","owner","then","res","history","getFriends","friendsId","friendsData","friend","showForm","pushed","next","margin","padding","horizontal","fixed","Messages","chatData","onlineState","userData","chatroomBg","chatBg","shouldLogout","shouldShowChatroom","getUserData","userdata","load","querySelector","theme","localStorage","getItem","chatBgDark","window","innerWidth","left","render","exact","overflow","component","bubble","backgroundImage","PlaceHolder","Alert","transition","EditProfile","phoneNumber","updateName","updateProfile","nameChanged","upload","types","files","file","onchange","storageRef","storage","uploadTask","put","TaskEvent","STATE_CHANGED","snapshot","progress","bytesTransferred","totalBytes","progressMessage","toFixed","progBar","TaskState","PAUSED","RUNNING","error","code","getDownloadURL","downloadURL","replace","catch","err","coverPhoto","pageBg","cover","btnBack","goBack","accept","profilePic","marginTop","coperate","progressBar","address","gender","birthday","Home","checkUser","home","masthead","flexShrink","header_content","buttons","profile","shade","logoType","bgColor","addEventListener","location","pathname","Toolbar","activeClassName","active","Navbar","backdrop","Backdrop","clicked","nextProps","nextState","modalClosed","transform","opacity","cancel","Friends","allFriends","showAllFriends","seeMore","img","friendList","horizontal_scroll","friendCard","friendsImg","allUsers","request","sendRequest","receiverId","index","getRequest","req","friendId","requestId","element","reqId","acceptRequest","uname","photo","myRef","chatsRef","updates","update","declineRequest","cancelRequest","getAllUsers","requests","requestsId","ids","hideReq","hideAll","useState","showBtn","setShowBtn","likes","lastLike","video","videos","getBoundingClientRect","top","pause","Post","coprate","moreCon","more","isMine","deletePost","body","controls","loop","postComment","btnCon","onBlur","onFocus","comment","liked","likeeId","comments","comments_box","Posts","posts","delete","getPosts","orderByChild","equalTo","post","com","text","autoComplete","sendPost","display","titleChanged","onInput","bodyChanged","media","autoPlay","Timeline","profileData","isUser","errorMessage","showPostForm","modalMessage","postTitle","postBody","sref","setAttribute","URL","url","documentElement","userExist","profiledata","metaThemeColor","dp","Request","Notify","nots","button","Display","light","dark","domeTheme","setItem","Menu","logOutHandler","signOut","menu","MenuLink","Feed","friendsArr","sn","wrapper","brand","Profile","loadUserdata","updatedUd","email","Login","password","minLength","sMessage","shouldLogin","googleLogin","provider","GoogleAuthProvider","signInWithRedirect","getRedirectResult","result","additionalUserInfo","isNewUser","saveUser","fetchUser","substr","signInHandler","formData","formId","signInWithEmailAndPassword","credential","btnLogin","googleBtn","google","Signin","redirect","signUpHandler","usernameExist","createUserWithEmailAndPassword","Account","bgImage","login","App","shouldRedirect","toggleFullscreen","User","Edit","Boolean","hostname","ReactDOM","cordovaWork","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.00bc93a4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo_red.928347b4.png\";","module.exports = __webpack_public_path__ + \"static/media/google.5449b457.png\";","module.exports = __webpack_public_path__ + \"static/media/avatar_square.8361f480.png\";","module.exports = __webpack_public_path__ + \"static/media/chatBg.7b1d8e86.jpg\";","module.exports = __webpack_public_path__ + \"static/media/skychat_red.3a297777.png\";","module.exports = __webpack_public_path__ + \"static/media/skychat_blue.d0a83b3a.png\";","module.exports = __webpack_public_path__ + \"static/media/logo_blue.57212198.png\";","module.exports = __webpack_public_path__ + \"static/media/skychat_light_1.ab507a4e.png\";","module.exports = __webpack_public_path__ + \"static/media/ui_loading.c3967b09.wav\";","module.exports = __webpack_public_path__ + \"static/media/completed.fb29553b.wav\";","module.exports = __webpack_public_path__ + \"static/media/chat_bg_dark.162ad9a8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/group.c652c7ee.png\";","module.exports = __webpack_public_path__ + \"static/media/friends.cbf4c1f7.png\";","module.exports = __webpack_public_path__ + \"static/media/avatar-red.6399edc5.png\";","module.exports = __webpack_public_path__ + \"static/media/skychat_light_2.d9e462c3.png\";","import React, { Component } from 'react';\r\n\r\n\r\nclass Modal extends Component {\r\n\r\n\r\n    componentDidMount() {\r\n        if (this.props.show) {\r\n            document.getElementById('mBtn').click()\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            this.props.show ? <React.Fragment>\r\n\r\n                <button type=\"button\" id='mBtn' className=\"d-none\" data-toggle=\"modal\" data-target=\"#modelId\">\r\n                    Launch\r\n         </button>\r\n\r\n                <div className=\"modal fade\" id=\"modelId\" tabIndex=\"-1\" role=\"dialog\" >\r\n                    <div className=\"modal-dialog\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\">{this.props.title}</h5>\r\n                                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                    <span aria-hidden=\"true\">&times;</span>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                {this.props.children}\r\n                            </div>\r\n                            {this.props.btn ?\r\n                                <div className=\"modal-footer\">\r\n                                    <button onClick={this.props.click} style={{\r\n                                        background: 'orangered',\r\n                                        color: 'white'\r\n                                    }} type=\"button\" className=\"btn\">{this.props.btn}</button>\r\n                                </div> : null\r\n                            }\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment> : null\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport classes from './Toast.css';\r\n\r\nexport default props => {\r\n    return (\r\n        <div className={classes.toast + \" rounded-pill\"}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport classes from './Spinner.css';\r\n\r\nconst spinner = (props) => (\r\n    <div className={\"h-100 w-100 d-flex flex-column align-items-center justify-content-center \"}>\r\n        <div className={\"rounded-circle \" + classes.spinner} style={{ ...props.style }}>\r\n            <div style={{\r\n                fontSize: props.fontSize\r\n            }} className={classes.Loader}>Loading...</div>\r\n        </div>\r\n        {props.message ? <h4 className={props.size + \" text-center\"} style={{ paddingTop: \"6rem\" }}>{props.message}</h4> : ''}\r\n    </div>\r\n);\r\n\r\nexport default spinner;","import * as firebase from \"firebase/app\";\r\nimport 'firebase/analytics'\r\n\r\n\r\n\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyCKMoKc1Cft0WG1etZLvnmh5ytzdckkIcg\",\r\n    authDomain: \"skymail-920ab.firebaseapp.com\",\r\n    databaseURL: \"https://skymail-920ab.firebaseio.com\",\r\n    projectId: \"skymail-920ab\",\r\n    storageBucket: \"skymail-920ab.appspot.com\",\r\n    messagingSenderId: \"795125035544\",\r\n    appId: \"1:795125035544:web:bc6cddb5e006c3bfdd496d\",\r\n    measurementId: \"G-Z3K3MYS9NC\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nfirebase.analytics();\r\n\r\n\r\n\r\nexport default firebase;","import React from 'react';\r\n\r\nimport classes from './Input.css';\r\n\r\nconst input = (props) => {\r\n    let inputElement = null;\r\n\r\n    switch (props.elementType) {\r\n        case ('input'):\r\n            inputElement = <input\r\n                className={\"form-control  \"}\r\n                {...props.elementConfig}\r\n                value={props.value}\r\n                id={props.id}\r\n                onChange={props.changed} />;\r\n            break;\r\n        case ('checkbox'):\r\n            inputElement = <input\r\n                className={\"custom-control-input  \"}\r\n                id={props.id}\r\n                type='checkbox'\r\n                onChange={props.changed} />;\r\n            break;\r\n        case ('textarea'):\r\n            inputElement = <textarea\r\n                className=\"form-control\"\r\n                {...props.elementConfig}\r\n                value={props.value}\r\n                onChange={props.changed} />;\r\n            break;\r\n        case ('select'):\r\n            inputElement = (\r\n                <select\r\n                    className=\"form-control\"\r\n                    value={props.value}\r\n                    onChange={props.changed}>\r\n                    {props.elementConfig.options.map(option => (\r\n                        <option key={option.value} value={option.value}>\r\n                            {option.displayValue}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            );\r\n            break;\r\n        default:\r\n            inputElement = <input\r\n                {...props.elementConfig}\r\n                value={props.value}\r\n                className=\"form-control\"\r\n                onChange={props.changed} />;\r\n    }\r\n    var formGroup = null;\r\n    if (props.elementType === 'checkbox') {\r\n        formGroup = <div className={'custom-control custom-checkbox mb-3  wow fadeIn'}>\r\n            {inputElement}\r\n            <label htmlFor={props.id} className='custom-control-label' >{props.label}</label>\r\n        </div>\r\n    } else {\r\n        formGroup = <div className={classes.formLabelGroup + ' wow fadeIn'}>\r\n            {inputElement}\r\n            <label htmlFor={props.id} >{props.label}</label>\r\n        </div>\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            {formGroup}\r\n        </React.Fragment>\r\n    );\r\n\r\n};\r\n\r\nexport default input;","import React, { Component } from 'react';\r\nimport Input from '../../UI/Input/Input'\r\n\r\nexport default class Search extends Component {\r\n    state = {\r\n        form: {\r\n            search: {\r\n                elementType: \"input\",\r\n                elementConfig: {\r\n                    type: \"text\",\r\n                    placeholder: \"Search for a user\",\r\n                    required: true\r\n                },\r\n                value: \"\",\r\n                id: 'search',\r\n                label: \"Search for a user\"\r\n            }\r\n        }\r\n    }\r\n    inputChanged = (e, id) => {\r\n        const updatedForm = {\r\n            ...this.state.form\r\n        };\r\n        const updatedFormEl = { ...updatedForm[id] };\r\n        updatedFormEl.value = e.target.value;\r\n        updatedForm[id] = updatedFormEl;\r\n        this.setState({ form: updatedForm });\r\n    };\r\n    render() {\r\n        const formElementArray = [];\r\n        for (let key in this.state.form) {\r\n            formElementArray.push({\r\n                id: key,\r\n                config: this.state.form[key]\r\n            });\r\n        }\r\n        return (\r\n            <form onSubmit={this.props.submit}>\r\n                {formElementArray.map(el => (\r\n                    <Input\r\n                        elementType={el.config.elementType}\r\n                        elementConfig={el.config.elementConfig}\r\n                        value={el.config.value}\r\n                        id={el.id}\r\n                        key={el.config.id}\r\n                        label={el.config.label}\r\n                        changed={e => {\r\n                            this.inputChanged(e, el.id);\r\n                        }} />\r\n                ))}\r\n            </form>\r\n        )\r\n    }\r\n\r\n}","import React from 'react';\r\n\r\nimport Logo1 from '../../assets/Image/logo/skychat_red.png';\r\nimport Logo2 from '../../assets/Image/logo/skychat_blue.png';\r\nimport Logo3 from '../../assets/Image/logo/logo_red.png';\r\nimport Logo4 from '../../assets/Image/logo/logo_blue.png';\r\nimport Logo5 from '../../assets/Image/logo/skychat_light_1.png';\r\nimport Logo6 from '../../assets/Image/logo/skychat_light_2.png';\r\nimport classes from './Logo.css';\r\n\r\nconst logo = (props) => {\r\n\r\n    if (props.type === 'l1') {\r\n        return (<div className={classes.Logo} style={{ height: props.height, width: props.width }}>\r\n            <img src={Logo1} alt=\"skychat Logo1\" />\r\n        </div>)\r\n    } else if (props.type === 'l2') {\r\n        return (<div className={classes.Logo} style={{ height: props.height, width: props.width }}>\r\n            <img src={Logo2} alt=\"skychat Logo\" />\r\n        </div>)\r\n\r\n    } else if (props.type === 'l3') {\r\n        return (<div className={classes.Logo} style={{ height: props.height, width: props.width }}>\r\n            <img src={Logo3} alt=\"skychat Logo\" />\r\n        </div>)\r\n\r\n    } else if (props.type === 'l4') {\r\n        return (<div className={classes.Logo} style={{ height: props.height, width: props.width }}>\r\n            <img src={Logo4} alt=\"skychat Logo\" />\r\n        </div>)\r\n\r\n    } else if (props.type === 'l5') {\r\n        return (<div className={classes.Logo} style={{ height: props.height, width: props.width }}>\r\n            <img src={Logo5} alt=\"skychat Logo\" />\r\n        </div>)\r\n\r\n    } else if (props.type === 'l6') {\r\n        return (<div className={classes.Logo} style={{ height: props.height, width: props.width }}>\r\n            <img src={'res/logo/skychat_light_2.png'} alt=\"skychat Logo\" />\r\n        </div>)\r\n    } else {\r\n        return <h5>Cant load logo</h5>\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default logo;","import React from 'react';\r\nimport Logo from '../../../component/Logo/Logo'\r\n\r\nconst placeHolder = props => {\r\n    return (\r\n        <div className=\"h-100 w-100 d-flex align-items-center justify-content-center\">\r\n            <div className=\"rounded-circle d-flex align-items-center\" style={{\r\n                background: \"rgba(255,255,255,.5)\",\r\n                height: \"20rem\",\r\n                width: \"20rem\"\r\n            }}>\r\n                <div className=\"mx-auto\">\r\n\r\n                    <Logo type='l4' height=\"5rem\" />\r\n                    <h3 className=\"mt-3 text-center\">Start a chat</h3>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default placeHolder","import React, { Component } from \"react\";\r\nimport classes from \"./Chats.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Spinner from \"../UI/Spinner/Spinner\";\r\nimport firebase from \"../../firebase\";\r\nimport Search from \"../Forms/Search/Searxh\";\r\nimport \"firebase/database\";\r\nimport PlaceHolder from \"../../container/Messages/PlaceHolder/Placeholder\";\r\n\r\nclass Chat extends Component {\r\n  state = {\r\n    loading: false,\r\n    hasChats: false,\r\n    message: null,\r\n    chats: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true, message: \"Connecting to database\" });\r\n    firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        var userId = user.uid;\r\n        this.getChats(userId, user.displayName);\r\n      } else {\r\n        console.log(\"no user found\");\r\n      }\r\n    });\r\n  }\r\n\r\n  getChats = (uid, username) => {\r\n    this.setState({ message: \"Fetching user data\" });\r\n\r\n    var ref = firebase.database().ref(\"users/\" + uid + \"/chatsId\");\r\n    ref.on(\"value\", s => {\r\n      var chatsId = s.val();\r\n      if (chatsId) {\r\n        this.setState({ message: \"Loading Chats\", loading: true });\r\n        this.setState({ hasChats: true });\r\n        var chatArr = [];\r\n        for (let keys in chatsId) {\r\n          const cur = chatsId[keys];\r\n          var chatRef = firebase.database().ref(\"chats/\" + cur);\r\n          chatRef.on(\"value\", snap => {\r\n            var user = snap.val().metadata;\r\n            var chats = snap.val().chats;\r\n            var description = snap.val().description\r\n            var modified = snap.val().modified\r\n\r\n            var lastChat;\r\n\r\n\r\n            if (chats) {\r\n              lastChat =\r\n                chats[Object.keys(chats)[Object.keys(chats).length - 1]];\r\n              var lastChatMessage = lastChat.message;\r\n\r\n              var weekDays = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n              var months = [\r\n                \"Jan\",\r\n                \"Feb\",\r\n                \"Mar\",\r\n                \"Apr\",\r\n                \"May\",\r\n                \"Jun\",\r\n                \"Jul\",\r\n                \"Sep\",\r\n                \"Oct\",\r\n                \"Nov\",\r\n                \"Dec\"\r\n              ];\r\n              var now = new Date(lastChat.date);\r\n              if (!modified) modified = lastChat.date\r\n              var month = months[now.getMonth()];\r\n              var year = now.getFullYear();\r\n              var monthDay = now.getDate();\r\n              var week = weekDays[now.getDay()];\r\n              var hour = now.getHours();\r\n              var min = dec(now.getMinutes());\r\n              var lastTime = now.getTime();\r\n              var clock = \" am\";\r\n              if (hour > 11) {\r\n                clock = \" pm\";\r\n              }\r\n              if (hour > 12) {\r\n\r\n                hour -= 12\r\n              }\r\n              function dec(num) {\r\n                if (num < 10) return \"0\" + num;\r\n                else return num;\r\n              }\r\n              var current = new Date()\r\n              if (current.getDate() === monthDay) {\r\n                lastTime = hour + \":\" + min + clock;\r\n              } else if (current.getDate() - monthDay === 1 || current.getDate() - monthDay === -30) {\r\n                lastTime = \"Yesterday \" + hour + \":\" + min + clock;\r\n              } else if (\r\n                current.getDate() - monthDay > 1 &&\r\n                current.getDate() - monthDay < 7\r\n              ) {\r\n                lastTime = week + \" at \" + hour + \":\" + min + clock;\r\n              } else if (year === current.getFullYear()) {\r\n                lastTime =\r\n                  month + \" \" + monthDay + \" at \" + hour + \":\" + min + clock;\r\n              } else if (year > current.getFullYear()) {\r\n                lastTime =\r\n                  month +\r\n                  \" \" +\r\n                  monthDay +\r\n                  \" \" +\r\n                  year +\r\n                  \" at \" +\r\n                  hour +\r\n                  \":\" +\r\n                  min +\r\n                  clock;\r\n              } else {\r\n                lastTime = week + '  ' + hour + ':' + min + clock\r\n              }\r\n\r\n              if (lastChat.sender === uid || lastChat.sender === username) {\r\n                lastChatMessage = \"You: \" + lastChat.message;\r\n              }\r\n              // remember that cur = chatsId[keys]\r\n              if (description !== undefined) {\r\n                var chat = {\r\n                  chatHead: cur,\r\n                  icon: snap.val().icon,\r\n                  link: cur,\r\n                  lastChat: lastChatMessage,\r\n                  modified: modified,\r\n                  time: lastTime\r\n                };\r\n                // eslint-disable-next-line no-loop-func\r\n                chatArr.forEach((cur, i) => {\r\n                  if (cur.chatHead === chat.chatHead) {\r\n                    chatArr.splice(i, 1);\r\n                  }\r\n                });\r\n                chatArr.push(chat);\r\n                this.setState({ chats: chatArr.reverse() });\r\n              } else {\r\n\r\n                for (let key in user) {\r\n                  if (key !== uid) {\r\n                    firebase.database().ref('users/' + key)\r\n                      .on('value', snap => {\r\n                        var chat = {\r\n                          chatHead: snap.val().username,\r\n                          icon: snap.val().profilePicture,\r\n                          modified: modified,\r\n                          link: cur,\r\n                          lastChat: lastChatMessage,\r\n                          time: lastTime\r\n                        };\r\n                        // eslint-disable-next-line no-loop-func\r\n                        chatArr.forEach((cur, i) => {\r\n                          if (cur.chatHead === chat.chatHead) {\r\n                            chatArr.splice(i, 1);\r\n                          }\r\n                        });\r\n\r\n                        chatArr.sort((a, b) => {\r\n\r\n                          return (\r\n                            a.modified - b.modified\r\n                          )\r\n                        })\r\n                        chatArr.push(chat);\r\n                        this.setState({ chats: chatArr.reverse() });\r\n                      })\r\n\r\n\r\n                  }\r\n                }\r\n              }\r\n              this.setState({ loading: false });\r\n            }\r\n\r\n\r\n          });\r\n        }\r\n      } else {\r\n        this.setState({ loading: false });\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={classes.Chats + \" h-100\"}>\r\n        {this.state.loading ? (\r\n          <Spinner size=\"h6\" message={this.state.message} />\r\n        ) : this.state.hasChats ? (\r\n          <React.Fragment>\r\n            <div className=\"px-3 pt-2\">\r\n              <Search />\r\n            </div>\r\n            {this.state.chats.map(cur => (\r\n              <Link\r\n                to={\"/messages/\" + cur.link}\r\n                className={\r\n                  classes.Chat +\r\n                  \" px-3 py-2 text-capitalize  border-bottom d-flex align-items-center\"\r\n                }\r\n                key={cur.link}\r\n              >\r\n                <div className={classes.picture}>\r\n                  <img src={cur.icon} alt=\"\" />\r\n                </div>\r\n                <div style={{ minWidth: \"11rem\" }} className=\"ml-3 text-dark  \">\r\n                  <h3 className=\" font-weight-bold h5 m-0\">\r\n                    {cur.chatHead\r\n                      ? cur.chatHead\r\n                        .split(\"<br/>\")\r\n                        .join(\" \")\r\n                        .substring(0, 15) +\r\n                      (Array.from(cur.chatHead).length > 15 ? \"...\" : \"\")\r\n                      : null}\r\n                  </h3>\r\n                  <p className=\"m-0\">\r\n                    {cur.lastChat.split\r\n                      ? cur.lastChat\r\n                        .split(\"<br/>\")\r\n                        .join(\" \")\r\n                        .substring(0, 21) +\r\n                      (Array.from(cur.lastChat).length > 21 ? \" ...\" : \"\")\r\n                      : null}\r\n                  </p>\r\n                </div>\r\n                <div className=\"text-right ml-auto\">\r\n                  <h6 style={{ color: \"#888\" }}>{cur.time}</h6>\r\n                  {!cur.seen ? (\r\n                    <i\r\n                      style={{ fontSize: \"1rem\", color: \"orangered\" }}\r\n                      className=\"material-icons pr-1\"\r\n                    >\r\n                      radio_button_checked\r\n                    </i>\r\n                  ) : null}\r\n                </div>\r\n              </Link>\r\n            ))}\r\n            <p className=\"my-4 mx-auto text-secondary text-center\">\r\n              No more chats{\" \"}\r\n            </p>\r\n          </React.Fragment>\r\n        ) : (\r\n              <div className=\"text-center\">\r\n                <PlaceHolder />\r\n              </div>\r\n            )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Chat;\r\n","import React from 'react';\r\nimport classes from './chatInput.css'\r\n\r\nconst chatInput = props => {\r\n  var height = 'auto'\r\n  var textInput = document.getElementById('t')\r\n  if (textInput) {\r\n    height = 'auto'\r\n    height = textInput.scrollHeight\r\n    if (height > 55) {\r\n      props.changeStyle(true)\r\n    } else {\r\n      props.changeStyle(false)\r\n\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={props.sendChat} className={classes.msgInput + \" row no-gutters\"}>\r\n\r\n      <div className=\"col-md-2 col-5 justify-content-around pb-1  d-flex align-items-center\" style={{ alignSelf: \"flex-end\" }}>\r\n        <button onClick={() => {\r\n          textInput.style.height = 'auto'\r\n          props.changeStyle(false)\r\n        }} className={classes.btn}>\r\n          <i className=\"material-icons o\" >photo</i>\r\n        </button>\r\n        <button onClick={() => {\r\n          textInput.style.height = 'auto'\r\n          props.changeStyle(false)\r\n        }} className={classes.btn}>\r\n          <i className=\"material-icons \" >videocam</i>\r\n        </button>\r\n        <button onClick={() => {\r\n          textInput.style.height = 'auto'\r\n          props.changeStyle(false)\r\n        }} className={classes.btn}>\r\n          <i className=\"material-icons \" >audiotrack</i>\r\n        </button>\r\n      </div>\r\n      <div className=\"col pt-1\">\r\n        <textarea id=\"t\"\r\n          style={{\r\n            height: height + 'px'\r\n          }} rows=\"1\" type=\"text\" required onChange={props.changed} value={props.value} placeholder=\"Aa\" />\r\n      </div>\r\n      <div className=\"col-md-1 col-2 pb-1  d-flex align-items-center\" style={{ alignSelf: \"flex-end\" }}>\r\n        <button onClick={() => {\r\n          textInput.style.height = 'auto'\r\n          props.changeStyle(false)\r\n        }} className=\"w-100 p-0 d-flex align-items-center\" style={{\r\n          border: 0,\r\n          outline: 0,\r\n          background: 'none'\r\n        }}>\r\n          <i className=\"material-icons h-100 mx-auto\" style={{\r\n            fontSize: '2.5rem',\r\n            lineHeight: '1',\r\n            color: 'orangered'\r\n          }}>send</i>\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default chatInput","import React, { Component } from 'react';\r\nimport classes from './Chat.css';\r\nimport firebase from '../../../firebase'\r\n\r\nclass chat extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.chatRef = React.createRef();\r\n    }\r\n    componentDidMount() {\r\n        let classname = this.chatRef.current.className;\r\n\r\n        if (this.chatRef.current.offsetHeight > 55 && this.chatRef.current.offsetHeight < 80) {\r\n            classname = [classname, classes.lg].join(' ')\r\n        } else if (this.chatRef.current.offsetHeight > 80) {\r\n            classname = [classname, classes.lg2].join(' ')\r\n        }\r\n\r\n        this.chatRef.current.className = classname\r\n\r\n    }\r\n    render() {\r\n        var icon = ''\r\n        var user = firebase.auth().currentUser\r\n        let classname = classes.sent\r\n        let message = this.props.children\r\n\r\n\r\n        if (this.props.sender === user.uid || this.props.sender === user.displayName) {\r\n            classname = classes.sent\r\n            icon = null\r\n        } else if (this.props.sender === 'time') {\r\n            var weekDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\r\n            var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Sep', 'Oct', 'Nov', 'Dec']\r\n            var now = new Date(this.props.date)\r\n            var month = months[now.getMonth()]\r\n            var year = now.getFullYear()\r\n            var monthDay = now.getDate()\r\n            var week = weekDays[now.getDay()]\r\n            var hour = now.getHours()\r\n            var min = dec(now.getMinutes());\r\n            var clock = ' am'\r\n            if (hour > 12) {\r\n                clock = \" pm\"\r\n                hour -= 12\r\n            }\r\n            function dec(num) {\r\n                if (num < 10) return '0' + num\r\n                else return num\r\n            }\r\n            classname = classes.time\r\n            icon = null\r\n            var current = new Date()\r\n            var currentTime = current.getTime();\r\n            var lastTime = now.getTime();\r\n            var difference = (currentTime - lastTime) / 3600000;\r\n            if (current.getDate() === monthDay) {\r\n                message = 'Today at ' + hour + ':' + min + clock\r\n            } else if ((current.getDate() - monthDay === 1) || (current.getDate() - monthDay === -30) || (difference > 24 && difference < 48)) {\r\n                message = 'Yesterday at ' + hour + ':' + min + clock\r\n            } else if (current.getDate() - monthDay > 1 &&\r\n                current.getDate() - monthDay < 7) {\r\n                message = week + ' at ' + hour + ':' + min + clock\r\n            } else if (year === current.getFullYear()) {\r\n                message = month + ' ' + monthDay + ' at ' + hour + ':' + min + clock\r\n            } else if (year > current.getFullYear()) {\r\n                message = month + ' ' + monthDay + ' ' + year + ' at ' + hour + ':' + min + clock\r\n            } else {\r\n                message = week + ' at ' + hour + ':' + min + clock\r\n            }\r\n\r\n\r\n        } else if (this.props.sender === 'skymail') {\r\n            classname = classes.skymail\r\n            icon = null\r\n        } else if (this.props.sender === 'added') {\r\n            classname = classes.added\r\n            if (this.props.added) {\r\n                if (this.props.added.toLowerCase() === user.displayName.toLowerCase()) {\r\n                    message += ' added You'\r\n                } else {\r\n                    message += ' added ' + this.props.added\r\n\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            classname = classes.received\r\n            icon = <div className={classes.icon + \" mr-2 mr-md-2\"}>\r\n                <img src={this.props.icon} alt=\"\" />\r\n            </div>\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"d-flex\">\r\n                {icon}\r\n                <div ref={this.chatRef} dangerouslySetInnerHTML={{ __html: message }} className={[classes.chat, classname].join(' ')}>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default chat\r\n","import React, { Component } from 'react';\r\nimport classes from './Chat.css';\r\nimport firebase from '../../../firebase'\r\n\r\nclass chat extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.chatRef = React.createRef();\r\n    }\r\n    componentDidMount() {\r\n        let classname = this.chatRef.current.className;\r\n\r\n        if (this.chatRef.current.offsetHeight > 40 && this.chatRef.current.offsetHeight < 80) {\r\n            classname = [classname, classes.lg].join(' ')\r\n        } else if (this.chatRef.current.offsetHeight > 80) {\r\n            classname = [classname, classes.lg2].join(' ')\r\n        }\r\n\r\n        this.chatRef.current.className = classname\r\n\r\n    }\r\n    render() {\r\n        var icon = ''\r\n        var user = firebase.auth().currentUser\r\n        let classname = classes.sent\r\n        let message = this.props.children\r\n\r\n\r\n        if (this.props.sender === user.uid || this.props.sender === user.displayName) {\r\n            classname = classes.sent\r\n            icon = null\r\n        } else if (this.props.sender === 'time') {\r\n            var weekDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\r\n            var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Sep', 'Oct', 'Nov', 'Dec']\r\n            var now = new Date(this.props.date)\r\n            var month = months[now.getMonth()]\r\n            var year = now.getFullYear()\r\n            var monthDay = now.getDate()\r\n            var week = weekDays[now.getDay()]\r\n            var hour = now.getHours()\r\n            var min = dec(now.getMinutes());\r\n            var clock = ' am'\r\n            if (hour > 12) {\r\n                clock = \" pm\"\r\n                hour -= 12\r\n            }\r\n            function dec(num) {\r\n                if (num < 10) return '0' + num\r\n                else return num\r\n            }\r\n            classname = classes.time\r\n            icon = null\r\n            var current = new Date()\r\n            var currentTime = current.getTime();\r\n            var lastTime = now.getTime();\r\n            var difference = (currentTime - lastTime) / 3600000;\r\n            if (current.getDate() === monthDay) {\r\n                message = 'Today at ' + hour + ':' + min + clock\r\n            } else if ((current.getDate() - monthDay === 1) || (current.getDate() - monthDay === -30) || (difference > 24 && difference < 48)) {\r\n                message = 'Yesterday at ' + hour + ':' + min + clock\r\n            } else if ((current.getDate() - monthDay) > 1 && current.getDate() - monthDay < 7) {\r\n                message = week + ' at ' + hour + ':' + min + clock\r\n            } else if (year === current.getFullYear()) {\r\n                message = month + ' ' + monthDay + ' at ' + hour + ':' + min + clock\r\n            } else if (year > current.getFullYear()) {\r\n                message = month + ' ' + monthDay + ' ' + year + ' at ' + hour + ':' + min + clock\r\n            } else {\r\n                message = week + ' at ' + hour + ':' + min + clock\r\n            }\r\n\r\n\r\n        } else if (this.props.sender === 'skymail') {\r\n            classname = classes.skymail\r\n            icon = null\r\n        } else if (this.props.sender === 'added') {\r\n            classname = classes.added\r\n            if (this.props.added) {\r\n                if (this.props.added.toLowerCase() === user.displayName.toLowerCase()) {\r\n                    message += ' added You'\r\n                } else {\r\n                    message += ' added ' + this.props.added\r\n\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            classname = classes.received\r\n            icon = <div className={classes.icon + \" mr-2 mr-md-2\"}>\r\n                <img src={this.props.icon} alt=\"\" />\r\n            </div>\r\n        }\r\n\r\n\r\n        const colors = [' rgb(43, 144, 226)', 'rgb(226, 177, 43)', '#62a', '#e22', ' rgb(43, 226, 52)', 'rgb(226, 43, 180)']\r\n        const i = Math.floor(Math.random() * 6)\r\n        return (\r\n            <div className=\"d-flex\">\r\n                {icon}\r\n                <div ref={this.chatRef} className={[classes.gchat, classname].join(' ')}>\r\n                    <p style={{ color: colors[i] }} className={classes.name}>{this.props.name} </p>\r\n                    <span dangerouslySetInnerHTML={{ __html: message }} >\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default chat\r\n","import loading from \"../../assets/audio/ui_loading.wav\";\r\nimport success from \"../../assets/audio/completed.wav\";\r\n\r\nexport default type => {\r\n  var audio = document.createElement('audio');\r\n\r\n  if (type === 'success') {\r\n    audio.src = success\r\n  } else {\r\n    audio.src = loading\r\n  }\r\n  audio.play()\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport classes from \"./Chatroom.css\";\r\n\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport ChatInput from \"../../../component/Forms/chatInput/chatInput\";\r\nimport Chat from \"../../../component/Chats/Chat/Chat\";\r\nimport GroupChat from \"../../../component/Chats/Chat/groupChat\";\r\nimport \"firebase/database\";\r\nimport \"firebase/auth\";\r\nimport firebase from \"../../../firebase\";\r\nimport Spinner from \"../../../component/UI/Spinner/Spinner\";\r\n\r\nimport Play from \"../../../component/Audio/Audio\";\r\n\r\nclass Chatroom extends Component {\r\n  state = {\r\n    value: \"\",\r\n    path: null,\r\n    chats: [],\r\n    receiverData: {},\r\n    senderData: {\r\n      senderId: \"\"\r\n    },\r\n    loading: false,\r\n    description: undefined,\r\n    date: null,\r\n    isGroup: true,\r\n    changeStyle: false\r\n  };\r\n  inputChanged = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        var senderData = {};\r\n        senderData.senderId = user.uid;\r\n        senderData.username = user.displayName;\r\n        senderData.profilePicture = user.photoURL;\r\n        this.setState({ senderData: senderData });\r\n        \r\n        this.getChats(this.props.match.params.chatId)\r\n      } else {\r\n        this.setState({ loading: false });\r\n      }\r\n    });\r\n  }\r\n  changeStyle = change => {\r\n    if (this.state.changeStyle !== change) {\r\n      this.setState({ changeStyle: change });\r\n\r\n      var con = document.getElementById(\"scroll\");\r\n      if (con) {\r\n        setTimeout(() => {\r\n          con.scrollTop = con.scrollHeight + 100000;\r\n        }, 500);\r\n      }\r\n    }\r\n  };\r\n  componentDidUpdate() {\r\n    if (this.props.match.params.chatId !== this.state.chatId) {\r\n      this.setState({ chatId: this.props.match.params.chatId })\r\n      this.getChats(this.props.match.params.chatId)\r\n    }\r\n  }\r\n  getChats = (chatId, uid) => {\r\n    \r\n    const chatref = firebase.database().ref('chats/' + chatId)\r\n    chatref.on('value', s => {\r\n      console.log(s.val());\r\n      let description\r\n      let groupIcon\r\n      if(s.val()){\r\n         description = s.val().description\r\n        groupIcon = s.val().icon\r\n      }\r\n\r\n      // checking if its a group\r\n      if (description !== undefined) {\r\n        this.setState({ isGroup: true, description: description, groupIcon: groupIcon })\r\n        let members = {}\r\n        for (let keys in s.val().metadata) {\r\n          firebase.database().ref('users/' + keys).once('value', users => {\r\n            members[keys] = {\r\n              profilePicture: users.val().profilePicture,\r\n              username: users.val().username\r\n            }\r\n          })\r\n            \r\n            var chats = []\r\n            if(s.val()){\r\n\r\n              for (let k in s.val().chats) {\r\n                const chat = {\r\n                  ...s.val().chats[k]\r\n                }\r\n                if (members[chat.sender]) {\r\n                  chat.name = members[chat.sender].username\r\n                  chat.profilePicture = members[chat.sender].profilePicture\r\n                }\r\n                chats.push(chat)\r\n              }\r\n            }\r\n\r\n            var lastChat = chats[Object.keys(chats)[Object.keys(chats).length - 1]];\r\n            if (lastChat.sender !== this.state.senderData.senderId && lastChat.sender !== 'time' && lastChat.sender && lastChat.sender !== 'skymail' && this.state.senderData.senderId) {\r\n              Play()\r\n            }\r\n            this.setState({ chats: chats, date: lastChat.date, loading: false });\r\n\r\n            var con = document.getElementById(\"scroll\");\r\n            if (con) {\r\n              setTimeout(()=>{\r\n\r\n                con.scrollTop = con.scrollHeight + 100;\r\n              },500)\r\n            }\r\n        \r\n        }\r\n        this.setState({ members: members })\r\n\r\n\r\n      } else {\r\n        this.setState({ isGroup: false })\r\n        var chats \r\n        if(s.val()){\r\n          chats = s.val().chats;\r\n        }\r\n        if (chats) {\r\n          var chat = [];\r\n          for (let keys in chats) {\r\n            const allChats = chats[keys]\r\n            chat.push(allChats);\r\n          }\r\n\r\n          var lastChat = chats[Object.keys(chats)[Object.keys(chats).length - 1]];\r\n          if (lastChat.sender !== this.state.senderData.senderId && lastChat.sender !== 'time' && lastChat.sender && lastChat.sender !== 'skymail' && this.state.senderData.senderId) {\r\n            Play()\r\n\r\n          }\r\n          this.setState({ chats: chat, date: lastChat.date, loading: false });\r\n\r\n        }\r\n        // get receiver data\r\n        for (let keys in s.val().metadata) {\r\n          if (this.state.senderData.senderId) {\r\n            if (keys !== this.state.senderData.senderId) {\r\n              firebase.database().ref('users/' + keys).on('value', snap => {\r\n                var receiverData = {};\r\n                receiverData.profilePicture = snap.val().profilePicture;\r\n                receiverData.username = snap.val().username;\r\n                receiverData.uid = keys;\r\n                this.setState({ receiverData: receiverData });\r\n                document.title =\r\n                  receiverData.username +\r\n                  \" And \" +\r\n                  this.state.senderData.username +\r\n                  \" | Skychat\";\r\n                setTimeout(() => {\r\n                  var con = document.getElementById(\"scroll\");\r\n                  con.scrollTop = con.scrollHeight + 100;\r\n\r\n                }, 50)\r\n\r\n              })\r\n            }\r\n          }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n      }\r\n    })\r\n  }\r\n  sendChats = event => {\r\n    this.setState({ changeStyle: false });\r\n    event.preventDefault();\r\n    var chatId = this.props.match.params.chatId;\r\n\r\n    var ref = firebase.database().ref(\"chats/\" + chatId + \"/chats\");\r\n    var val = this.state.value.split(\"\\n\").join(\"<br/>\");\r\n    var dat = Date.now();\r\n    firebase.database().ref(\"chats/\" + chatId + '/modified').set(dat)\r\n\r\n    var now = new Date();\r\n    var currentTime = now.getTime();\r\n    var lastTime = new Date(this.state.date).getTime();\r\n    var difference = (currentTime - lastTime) / 1000;\r\n    if (difference > 125) {\r\n      ref.push({\r\n        date: dat,\r\n        message: dat,\r\n        sender: \"time\"\r\n      })\r\n      ref.push({\r\n        date: dat,\r\n        message: val,\r\n        sender: this.state.senderData.senderId\r\n      })\r\n\r\n    } else {\r\n      ref\r\n        .push({\r\n          date: dat,\r\n          message: val,\r\n          sender: this.state.senderData.senderId\r\n        })\r\n    }\r\n\r\n\r\n    this.setState({ value: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={classes.chatroom}>\r\n        <nav\r\n          className={\r\n            classes.navbar + \"  navbar navbar-expand navbar-light\"\r\n          }\r\n        >\r\n          <Link to=\"/messages/\">\r\n            <i\r\n              style={{ cursor: \"pointer\" }}\r\n              className=\"text-dark material-icons mr-2 d-lg-none\"\r\n            >\r\n              arrow_back\r\n            </i>\r\n          </Link>\r\n          <Link\r\n            to={\"/\" + this.state.receiverData.uid}\r\n            className={classes.icon + \" p-0 navbar-brand\"}\r\n          >\r\n            <img src={this.state.isGroup ?this.state.groupIcon : this.state.receiverData.profilePicture} alt=\"\" />\r\n          </Link>\r\n          {this.state.receiverData.username ? (\r\n            <div>\r\n              <h1 className=\"text-dark mb-0 h5 text-capitalize\" style={{ lineHeight: \"1\" }}>\r\n                {this.state.receiverData.username.substring(0, 18) +\r\n                  (Array.from(this.state.receiverData.username).length > 18\r\n                    ? \"...\"\r\n                    : \"\")}\r\n              </h1>\r\n              <p style={{ lineHeight: \"1\" }} className=\"text-dark m-0 font-weight-light\">Active now</p>\r\n            </div>\r\n          ) :       <h1 className=\"text-dark mb-0 h5 text-capitalize\" style={{ lineHeight: \"1\" }}>\r\n              {this.props.match.params.chatId.substring(0, 18) +\r\n                (Array.from(this.props.match.params.chatId).length > 18\r\n                    ? \"...\"\r\n                    : \"\")}\r\n              </h1>}\r\n          <div className=\"collapse navbar-collapse\">\r\n            <ul className=\"navbar-nav ml-auto\">\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link py-0\" to=\"\">\r\n                  <i className=\"material-icons\">info</i>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </nav>\r\n        <div\r\n          style={\r\n            this.state.changeStyle\r\n              ? { marginBottom: \"8.2rem\", height: \" calc(100% - 8.2rem)\" }\r\n              : null\r\n          }\r\n          className={classes.chats}\r\n          id=\"scroll\"\r\n        >\r\n          <div>\r\n            {!this.state.loading ? (\r\n              <div className=\"py-5 \">\r\n                <div\r\n                  className=\"mb-3 d-flex justify-content-center\"\r\n                  style={{ height: \"8rem\" }}\r\n                >\r\n                  {this.state.isGroup ? <img\r\n                    src={this.state.groupIcon}\r\n                    className=\"h-100 rounded-circle\"\r\n                    alt=\"\"\r\n                    style={{ width: '8rem ', objectFit: \"cover\" }}\r\n\r\n                  /> : <React.Fragment>\r\n\r\n                      <img\r\n                        src={this.state.senderData.profilePicture}\r\n                        className=\"h-100 rounded-circle \"\r\n                        alt=\"\"\r\n                        style={{ width: '8rem ', objectFit: \"cover\" }}\r\n                      />\r\n                      <img\r\n                        src={this.state.receiverData.profilePicture}\r\n                        className=\"h-100 rounded-circle\"\r\n                        alt=\"\"\r\n                        style={{ width: '8rem ', objectFit: \"cover\" }}\r\n\r\n                      />\r\n                    </React.Fragment>}\r\n                </div>\r\n                <h2 className=\"text-center h5\">\r\n                  You and {this.state.receiverData.username} are now friends\r\n                </h2>\r\n              </div>\r\n            ) : null}\r\n\r\n            {this.state.chats.map((cur, i) => {\r\n\r\n              return (\r\n                this.state.isGroup ? <GroupChat\r\n                  key={i}\r\n                  seen={cur.seen}\r\n                  date={cur.date}\r\n                  added={cur.added}\r\n                  name={cur.name}\r\n                  sender={cur.sender}\r\n                  icon={cur.profilePicture}\r\n                >{cur.message}\r\n                </GroupChat> : <Chat\r\n                  key={i}\r\n                  seen={cur.seen}\r\n                  date={cur.date}\r\n                  added={cur.added}\r\n                  sender={cur.sender}\r\n                  icon={this.state.receiverData.profilePicture}\r\n                >\r\n                    {cur.message}\r\n                  </Chat>\r\n              );\r\n            })}\r\n            {this.state.loading ? (\r\n              <div className=\"pb-3 mb-3\">\r\n                <Spinner fontSize=\"3px\" />\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n        {/* chat input */}\r\n        <ChatInput\r\n          changeStyle={this.changeStyle}\r\n          changed={this.inputChanged}\r\n          value={this.state.value}\r\n          sendChat={this.sendChats}\r\n        />\r\n      </div >\r\n    );\r\n  }\r\n}\r\nexport default withRouter(Chatroom);\r\n\r\n/*\r\n\r\n*/\r\n","import React, { Component } from 'react';\r\nimport firebase from '../../../firebase';\r\nimport classes from './StartChat.css';\r\nimport 'firebase/database';\r\nimport { withRouter } from 'react-router-dom'\r\nimport Spinner from '../../UI/Spinner/Spinner'\r\nimport Picture from '../../../assets/Image/group.png'\r\nimport chat from '../Chat/groupChat';\r\n\r\nclass StartChat extends Component {\r\n\r\n    state = {\r\n        users: [],\r\n        loading: false,\r\n        friends: [],\r\n        username: \"\",\r\n        profilePicture: \"\",\r\n        icon: Picture,\r\n        uid: null,\r\n        members: [],\r\n        name: \"\",\r\n        description: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getUsers();\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.state.uid !== this.props.uid) {\r\n            this.setState({\r\n                uid: this.props.uid,\r\n                username: this.props.username,\r\n                profilePicture: this.props.profilePicture\r\n            })\r\n            this.getFriends(this.props.uid)\r\n        }\r\n    }\r\n    inputChange = (e) => {\r\n        this.setState({ name: e.target.value })\r\n\r\n    }\r\n    descChange = (e) => {\r\n        this.setState({ description: e.target.value })\r\n    }\r\n    getUsers = () => {\r\n        this.setState({ loading: true })\r\n        var ref = firebase.database().ref('users/')\r\n        ref.on('value', s => {\r\n            const users = []\r\n            var uid = s.val()\r\n            for (let key in uid) {\r\n                const user = {}\r\n                user.username = uid[key].username\r\n                user.userId = key\r\n                user.profilePicture = uid[key].profilePicture\r\n                users.push(user)\r\n            }\r\n            // removing friends from the all users array\r\n            var friends = [...this.state.friends]\r\n\r\n\r\n            var remove = [];\r\n            friends.forEach(cur => {\r\n                users.forEach((el, i) => {\r\n                    if (cur.userId === el.userId) {\r\n                        remove.push(i);\r\n                    }\r\n                });\r\n            });\r\n            for (var i = remove.length - 1; i >= 0; i--) users[remove[i]] = null;\r\n            this.setState({ users: users, loading: false })\r\n\r\n        })\r\n    }\r\n\r\n    toggleMember = (e, arr) => {\r\n        const members = [...this.state.members]\r\n        let shouldSplit = null\r\n        let checked = '<i class=\"mr-3 text-success  ml-auto material-icons\">check_circle</i>'\r\n        if (e.currentTarget.children[0].children[2]) {\r\n            e.currentTarget.children[0].children[2].outerHTML = ''\r\n        } else {\r\n            e.currentTarget.children[0].innerHTML += checked\r\n        }\r\n        members.forEach((cur, i) => {\r\n            if (cur === arr) {\r\n                shouldSplit = i\r\n            }\r\n        })\r\n        if (shouldSplit !== null) {\r\n            members.splice(shouldSplit, 1)\r\n        } else {\r\n            members.push(arr)\r\n        }\r\n        this.setState({ members: members })\r\n    }\r\n\r\n    getFriends(uid) {\r\n        if (uid) {\r\n            this.setState({ loading: true })\r\n            var ref = firebase.database().ref('users/' + uid)\r\n            ref.on('value', s => {\r\n                if (s.val().friendsId) {\r\n                    const friendsData = []\r\n                    for (let keys in s.val().friendsId) {\r\n                        firebase.database().ref('users/' + s.val().friendsId[keys])\r\n                            .once('value', snap => {\r\n                                const friend = {\r\n                                    username: snap.val().username,\r\n                                    userId: s.val().friendsId[keys],\r\n                                    profilePicture: snap.val().profilePicture\r\n                                }\r\n                                friendsData.push(friend)\r\n                            })\r\n                    }\r\n                    this.setState({ friends: friendsData, loading: false })\r\n                } else {\r\n                    this.setState({ friends: [], loading: false })\r\n\r\n                }\r\n            })\r\n        }\r\n    }\r\n    createGroup = (e) => {\r\n        e.preventDefault();\r\n        const chatref = firebase.database().ref('chats/' + this.state.name.toLocaleLowerCase())\r\n        chatref.once('value', s => {\r\n            if (s.val()) {\r\n                alert('Group name exists \\n Pick another group name ')\r\n            } else {\r\n                chatref.child(\"chats/\").push({\r\n                    message: this.state.username + \" created the group\",\r\n                    sender: 'added',\r\n                    date: Date.now()\r\n                });\r\n                firebase.database().ref('users/' + this.state.uid + \"/chatsId\").push(this.state.name)\r\n                this.state.members.forEach(cur => {\r\n                    const memberRef = firebase.database().ref('users/' + cur.userId)\r\n                    memberRef.child('chatsId').push(this.state.name)\r\n\r\n                    chatref.child('metadata/' + cur.userId).set({\r\n                        username: cur.username,\r\n                        profilePicture: cur.profilePicture\r\n                    })\r\n                    chatref.child(\"chats/\").push({\r\n                        message: this.state.username,\r\n                        added: cur.username,\r\n                        sender: 'added',\r\n                        date: Date.now()\r\n                    });\r\n                })\r\n                chatref.child('metadata/' + this.state.uid).set({\r\n                    username: this.state.username,\r\n                    owner: true,\r\n                    profilePicture: this.state.profilePicture\r\n                })\r\n                chatref.child('icon').set(this.state.icon)\r\n                chatref.child('description').set(this.state.description).then(res => {\r\n                    this.props.history.push('/messages/' + this.state.name)\r\n                })\r\n            }\r\n        })\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            this.state.loading ? <Spinner /> : <div className={this.state.members.length > 0 && !this.state.showForm ? classes.pushed : null}>\r\n                {\r\n                    this.state.showForm ? <form onSubmit={this.createGroup} className=\"px-3 py-2\">\r\n                        <div className=\"d-flex pb-4 justify-content-between\">\r\n                            <button type=\"button\" onClick={() => {\r\n                                this.setState({ showForm: false })\r\n                            }} className={classes.next + \" rounded-pill  btn btn-sm btn-outline-success\"}>{'<-'} Back</button>\r\n                            <button className={classes.next + \" rounded-pill  btn btn-sm btn-outline-success\"}> Finish -></button>\r\n                        </div>\r\n                        <input onChange={this.inputChange} value={this.state.name} type=\"text\" placeholder=\"Group name\" style={{\r\n                            background: \"#f7f7f7\",\r\n                            border: \"none\",\r\n                            margin: \" 0 0 1.5rem 0\",\r\n                            width: \"100%\",\r\n                            padding: \".5rem 1rem \"\r\n                        }} required />\r\n                        <textarea onChange={this.descChange} value={this.state.description} style={{\r\n                            background: \"#f7f7f7\",\r\n                            border: \"none\",\r\n                            width: \"100%\",\r\n                            padding: \".5rem 1rem \"\r\n                        }} rows=\"3\" placeholder=\"Group description\" required />\r\n\r\n                        <h4 className=\"pt-4\"><i className=\"material-icons pr-3\">people</i>Members {this.state.members.length + 1} </h4>\r\n                        <div className={classes.horizontal + \" pb-3 mt-2\"}>\r\n                            <div className=\"text-center pr-3\" >\r\n                                <img src={this.state.profilePicture} alt=\"\"\r\n                                    style={{ objectFit: 'cover', background: \"var(--light)\", height: \"4rem\", width: \"4rem\" }}\r\n                                    className=\"rounded-circle border \" />\r\n                                <p>You</p>\r\n                            </div>\r\n                            {this.state.members.map(cur => (\r\n                                <div className=\"text-center pr-3\" key={cur.userId}>\r\n                                    <img src={cur.profilePicture} alt=\"\"\r\n                                        style={{ objectFit: 'cover', background: \"var(--light)\", height: \"4rem\", width: \"4rem\" }}\r\n                                        className=\"rounded-circle border \" />\r\n                                    <p>{cur.username.substring(0, 6) + (Array.from(cur.username).length > 6 ? '...' : '')}</p>\r\n                                </div>\r\n                            ))}\r\n\r\n                        </div>\r\n                    </form> : null\r\n                }\r\n\r\n                {\r\n                    this.state.showForm ? null :\r\n                        <React.Fragment>\r\n                            {this.state.members.length > 0 ? <div className={classes.fixed + \" mb-3 px-3 border-bottom\"}>\r\n                                <div className=\"d-flex pb-2 justify-content-between align-items-center\">  <p>{this.state.members.length} selected</p>\r\n                                    {this.state.members.length > 1 ? <button onClick={() => {\r\n                                        this.setState({ showForm: true })\r\n                                    }} className={classes.next + \" rounded-pill  btn btn-sm btn-outline-success\"}>Next -></button> : null} </div>\r\n                                <div className={classes.horizontal}>\r\n                                    {this.state.members.map(cur => (\r\n                                        <div className=\"text-center pr-3\" key={cur.userId}>\r\n                                            <img src={cur.profilePicture} alt=\"\"\r\n                                                style={{ objectFit: 'cover', background: \"var(--light)\", height: \"4rem\", width: \"4rem\" }}\r\n                                                className=\"rounded-circle border \" />\r\n                                            <p>{cur.username.substring(0, 6) + (Array.from(cur.username).length > 6 ? '...' : '')}</p>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div> : null}\r\n                            <h5 className=\"px-3 d-flex align-items-center\"><i className=\"material-icons md-36 pr-2\">group_add</i> Add members </h5>\r\n\r\n                            <h6 className=\"px-3\">Friends</h6>\r\n                            {this.state.friends.map((cur, i) => (\r\n                                <div className=\" text-dark px-3 py-1 d-block\" key={cur.userId} onClick={(e) => {\r\n                                    this.toggleMember(e, cur)\r\n                                }}>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-3\">\r\n                                            <img src={cur.profilePicture} alt=\"\"\r\n                                                style={{ objectFit: 'cover', background: \"var(--light)\", height: \"4rem\", width: \"4rem\" }}\r\n                                                className=\"rounded-circle border \" />\r\n                                        </div>\r\n                                        <p className=\"px-3\">{cur.username}</p>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n\r\n                            <h6 className=\"px-3 mt-5\">All users</h6>\r\n\r\n                            {this.state.users.map((cur, i) => (\r\n                                cur ?\r\n                                    <div className=\"text-dark px-3 py-1 d-block\" key={cur.userId} onClick={(e) => {\r\n                                        this.toggleMember(e, cur)\r\n                                    }}>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-3\">\r\n                                                <img src={cur.profilePicture} alt=\"\"\r\n                                                    style={{ objectFit: 'cover', background: \"var(--light)\", height: \"4rem\", width: \"4rem\" }}\r\n                                                    className=\"rounded-circle border \" />\r\n                                            </div>\r\n                                            <p className=\"px-3\">{cur.username}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    : null\r\n                            ))} </React.Fragment>\r\n                }\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(StartChat)","import React, { Component } from \"react\";\r\nimport classes from \"./Messages.css\";\r\nimport Chats from \"../../component/Chats/Chats\";\r\nimport { Route, Link, Switch, Redirect } from \"react-router-dom\";\r\nimport Chatroom from \"./Chatroom/Chatroom\";\r\nimport PlaceHolder from \"./PlaceHolder/Placeholder\";\r\nimport chatBg from \"../../assets/Image/chatBg.jpg\";\r\nimport chatBgDark from \"../../assets/Image/chat_bg_dark.jpg\";\r\nimport StartChat from \"../../component/Chats/StartChat/StartChat\";\r\nimport firebase from \"../../firebase\";\r\nimport \"firebase/auth\";\r\n\r\nclass Messages extends Component {\r\n  state = {\r\n    chatData: {\r\n      icon: \"\",\r\n      onlineState: true\r\n    },\r\n    userData: {\r\n      username: \"\",\r\n      chatroomBg: chatBg,\r\n      uid: \"\"\r\n    },\r\n    shouldLogout: false,\r\n    chatId: this.props.match.params.chatId,\r\n    message: null,\r\n    shouldShowChatroom: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.setState({ shouldLogout: false });\r\n        this.getUserData(user);\r\n      } else {\r\n        this.setState({ shouldLogout: true });\r\n      }\r\n    });\r\n    this.load(this.props.match.params.chatId);\r\n\r\n    document.title = \"Skychat messenger\";\r\n    var metaThemeColor = document.querySelector(\"meta[name=theme-color]\");\r\n\r\n    let theme = localStorage.getItem('skychatTheme');\r\n    const userData = { ...this.state.userData }\r\n\r\n\r\n    if (theme === 'dark') {\r\n      userData.chatroomBg = chatBgDark\r\n      this.setState({ userData: userData })\r\n    } else {\r\n      userData.chatroomBg = chatBg\r\n      this.setState({ userData: userData })\r\n    }\r\n  }\r\n  componentDidUpdate() {\r\n    if (this.props.match.params.chatId !== this.state.chatId) {\r\n      this.setState({ chatId: this.props.match.params.chatId });\r\n      this.load(this.props.match.params.chatId);\r\n    }\r\n  }\r\n  load(id) {\r\n    if (\r\n      window.innerWidth >= 1200 ||\r\n      (id !== undefined && id !== \"new-group\")\r\n    ) {\r\n      this.setState({ shouldShowChatroom: true });\r\n    } else {\r\n      this.setState({ shouldShowChatroom: false });\r\n    }\r\n  }\r\n\r\n  getUserData = user => {\r\n    var ref = firebase.database().ref(\"users/\" + user.uid);\r\n    ref.once(\"value\", s => {\r\n      const userdata = { ...this.state.userData, uid: user.uid };\r\n      for (let keys in s.val()) {\r\n        userdata[keys] = s.val()[keys];\r\n      }\r\n      this.setState({ userData: userdata });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return this.state.shouldLogout ? (\r\n      <Redirect to=\"/login?messages\" />\r\n    ) : (\r\n        <div className={classes.Messages}>\r\n          <div className=\"container-fluid h-100 p-0\">\r\n            <div className=\"row h-100 no-gutters\">\r\n              <div className={classes.left + \" col bg-white \"}>\r\n                <nav\r\n                  className={\r\n                    classes.navbar + \" bg-white navbar navbar-expand navbar-light\"\r\n                  }\r\n                >\r\n                  <Switch>\r\n\r\n                    <Route path='/messages/new-group' render={() => (<i\r\n                      onClick={() => {\r\n                        this.props.history.push(\"/messages\");\r\n                      }}\r\n                      style={{ cursor: \"pointer\" }}\r\n                      className=\"material-icons mr-2\"\r\n                    >\r\n                      arrow_back\r\n                </i>)} />\r\n\r\n                    <Route path='/messages' render={() => (<i\r\n                      onClick={() => {\r\n                        this.props.history.push(\"/menu\");\r\n                      }}\r\n                      style={{ cursor: \"pointer\" }}\r\n                      className=\"material-icons mr-2\"\r\n                    >\r\n                      arrow_back\r\n                </i>)} />\r\n                  </Switch>\r\n                  <Link\r\n                    to={\"/\" + this.state.userData.uid}\r\n                    className={classes.icon + \" p-0 navbar-brand\"}\r\n                  >\r\n                    <img src={this.state.userData.profilePicture} alt=\"\" />\r\n                  </Link>\r\n                  <Switch>\r\n\r\n                    <Route path={'/messages/new-group'} exact render={() => (<h3 className=\"mb-0\">New group</h3>)} />\r\n                    <Route path={'/messages'} render={() => (<h3 className=\"mb-0\">Chats</h3>)} />\r\n                  </Switch>\r\n\r\n                  <div className=\"collapse navbar-collapse\">\r\n                    <ul className=\"navbar-nav ml-auto\">\r\n                      <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"\">\r\n                          <i className=\"material-icons\">settings</i>\r\n                        </Link>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </nav>\r\n                <div\r\n                  className={classes.overflow + \" h-100\"}\r\n                  style={{\r\n                    paddingTop: \"3.6rem\"\r\n                  }}\r\n                >\r\n                  <Switch>\r\n                    <Route\r\n                      path=\"/messages/new-group\"\r\n                      render={() => <StartChat username={this.state.userData.username} profilePicture={this.state.userData.profilePicture} uid={this.state.userData.uid} />}\r\n                    />\r\n                    <Route path=\"/messages\" component={Chats} />\r\n                  </Switch>\r\n                  <Switch>\r\n                    <Route path=\"/messages/new-group\" />\r\n                    <Route\r\n                      path=\"/messages\"\r\n                      render={() => (\r\n                        <Link\r\n                          to=\"/messages/new-group\"\r\n                          className={classes.bubble}\r\n                        >\r\n                          <i className=\"material-icons\">group_add</i>\r\n                        </Link>\r\n                      )}\r\n                    />\r\n                  </Switch>\r\n                </div>\r\n              </div>\r\n              {this.state.shouldShowChatroom ? (\r\n                <div\r\n                  className={classes.chatroom + \" col\"}\r\n                  style={{\r\n                    backgroundImage: \"url(\" + this.state.userData.chatroomBg + \")\"\r\n                  }}\r\n                >\r\n                  <Switch>\r\n                    <Route path=\"/messages/new-group\" component={PlaceHolder} />{\" \"}\r\n                    <Route path=\"/messages/:chatId\" render={() => <Chatroom />} />\r\n                    <Route path=\"/messages\" component={PlaceHolder} />\r\n                  </Switch>\r\n                </div>\r\n              ) : (\r\n                  \"\"\r\n                )}\r\n            </div>\r\n          </div>\r\n        </div >\r\n      );\r\n  }\r\n}\r\nexport default Messages;\r\n","import React from \"react\";\r\n\r\nconst Alert = props => {\r\n  return (\r\n    <div\r\n      className={[\r\n        \"alert-dismissible my-3 fade alert alert-\" + props.type,\r\n        props.show ? \"show\" : null\r\n      ].join(\" \")}\r\n      role=\"alert\"\r\n      style={{\r\n        transition: \"all 0.3s\"\r\n      }}\r\n    >\r\n      <button\r\n        type=\"button\"\r\n        className=\"close\"\r\n        data-dismiss=\"alert\"\r\n        aria-label=\"Close\"\r\n      >\r\n        <span aria-hidden=\"true\">&times;</span>\r\n        <span className=\"sr-only\">Close</span>\r\n      </button>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","/* eslint-disable default-case */\r\nimport React, { Component } from 'react';\r\nimport firebase from '../../firebase';\r\nimport 'firebase/database';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage'\r\nimport classes from './Edit.css';\r\nimport Spinner from '../../component/UI/Spinner/Spinner';\r\nimport Alert from '../../component/UI/Alert/Alert'\r\n\r\n\r\nexport default class EditProfile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.file = React.createRef();\r\n        this.progBar = React.createRef()\r\n    }\r\n    state = {\r\n\r\n        userData: {\r\n            username: \"\",\r\n            phoneNumber: \"\"\r\n        },\r\n        loading: false,\r\n        message: null\r\n    }\r\n    componentDidMount() {\r\n        document.title = \"Edit userdata | Skychat\";\r\n        this.setState({ loading: true })\r\n        firebase.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n\r\n                firebase.database().ref('users/' + user.uid)\r\n                    .on('value', snapshot => {\r\n                        const userdata = {\r\n                            username: snapshot.val().username,\r\n                            uid: user.uid,\r\n                            profilePicture: snapshot.val().profilePicture,\r\n                            coverPhoto: snapshot.val().coverPhoto\r\n                        }\r\n                        this.setState({ userData: userdata, loading: false })\r\n                    })\r\n            }\r\n        })\r\n    }\r\n    updateName = (e) => {\r\n        e.preventDefault()\r\n        let user = firebase.auth().currentUser\r\n\r\n        user\r\n            .updateProfile({\r\n                displayName: this.state.userData.username.toLowerCase()\r\n            }).then(() => {\r\n                var ref = firebase.database().ref(\"users/\");\r\n                const id = user.uid;\r\n                ref\r\n                    .child(id + \"/username\")\r\n                    .set(user.displayName.toLowerCase(),\r\n                    )\r\n            })\r\n\r\n    }\r\n    nameChanged = (e) => {\r\n        let user = firebase.auth().currentUser\r\n        const userdata = { ...this.state.userData }\r\n        userdata.username = e.target.value\r\n        this.setState({\r\n            userData: userdata\r\n        })\r\n\r\n    }\r\n    upload = (types) => {\r\n        const type = types\r\n        // File or Blob named mountains.jpg\r\n        // this.setState({ loading: true, message: \"Uploading image\" })\r\n        var files = this.file.current\r\n        files.click()\r\n        files.onchange = e => {\r\n            const storageRef = firebase.storage().ref('/' + this.state.userData.username.toLowerCase())\r\n            const file = files.files[0];\r\n\r\n            const uploadTask = storageRef.child('images/' + type).put(file);\r\n            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, (snapshot) => {\r\n                this.setState({ loading: false })\r\n                var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                var progressMessage = 'Upload is ' + Math.floor(progress) + '% Done. (' + (snapshot.totalBytes / 1000000).toFixed(2) + ' mb) '\r\n                this.setState({ progressMessage: progressMessage })\r\n                this.progBar.current.style.width = progress + '%'\r\n                switch (snapshot.state) {\r\n                    case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n                        console.log('Upload is paused');\r\n                        this.setState({ progressMessage: 'Upload is paused' })\r\n\r\n                        break;\r\n                    case firebase.storage.TaskState.RUNNING: // or 'running'\r\n                        break;\r\n                }\r\n            }, (error) => {\r\n                this.setState({ loading: false })\r\n\r\n                switch (error.code) {\r\n                    case 'storage/unauthorized':\r\n                        // User doesn't have permission to access the object\r\n                        this.setState({\r\n                            error: \"You don't have permission to access the object\"\r\n                        })\r\n                        break;\r\n                    case 'storage/canceled':\r\n                        this.setState({ error: \"Upload canceled\" })\r\n                        break;\r\n                    case 'storage/unknown':\r\n                        this.setState({ error: \"Unknown error occurred\" })\r\n                        // Unknown error occurred, inspect error.serverResponse\r\n                        break;\r\n                }\r\n            }, () => {\r\n                this.setState({ loading: true, progressMessage: null })\r\n\r\n                uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n                    firebase.database().ref('users/' + this.state.userData.uid + \"/\" + type)\r\n                        .set(downloadURL.replace(type, type + '_1024x1024')).then(cur => {\r\n\r\n                            this.setState({ loading: false })\r\n\r\n                        }).catch(err => {\r\n                            this.setState({ loading: false, error: err })\r\n                        });\r\n                    var user = firebase.auth().currentUser;\r\n\r\n                    if (type === 'profilePicture') {\r\n                        user.updateProfile({\r\n                            photoURL: downloadURL.replace(type, type + '_1024x1024')\r\n                        }).catch(function (error) {\r\n                            this.setState({ error: error })\r\n                            // An error happened.\r\n                        })\r\n                    }\r\n                });\r\n\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <div className={classes.pageBg}>\r\n                <div className={\"row no-gutters bg-white \" + classes.con}>\r\n\r\n                    <div className={classes.cover + \" col-12\"}>\r\n                        <button className={classes.btnBack} onClick={this.props.history.goBack} >\r\n                            <i className=\"material-icons\">arrow_back</i>\r\n                        </button>\r\n                        <img alt=\"\" src={this.state.userData.coverPhoto} />\r\n                        <input type=\"file\" accept=\"image/*\" className=\"d-none\" ref={this.file} />\r\n                        <div className={classes.profilePic}>\r\n                            <img alt=\"\" src={this.state.userData.profilePicture} className={\" rounded-circle \"} />\r\n                            <i onClick={() => {\r\n                                this.upload('profilePicture')\r\n                            }} className=\"material-icons rounded-circle \">camera_alt</i>\r\n                        </div>\r\n                        <i onClick={() => {\r\n                            this.upload('coverPhoto')\r\n                        }} className=\"material-icons rounded-circle \">camera_alt</i>\r\n\r\n                    </div>\r\n                    <div style={{ marginTop: \"8rem\" }} className={'col-12 bg-light  ' + classes.coperate}>\r\n                        {this.state.error ? <Alert type=\"warning\">{this.state.error}</Alert> : null}\r\n                        {this.state.loading ? <div className=\"py-5 bg-white\"><Spinner message={this.state.message} fontSize=\"6px\" /></div> :\r\n                            this.state.progressMessage ? <div className={'row no-gutters pb-4 px-4 mb-2 bg-white'}>\r\n                                <h4 className=\"h5 font-weight-bold\">{this.state.progressMessage}</h4>\r\n                                <div className={classes.progressBar}>\r\n                                    <span ref={this.progBar} ></span>\r\n                                </div>\r\n                            </div> : null}\r\n                        {this.state.loading ? null : <React.Fragment >\r\n                            <form className={'row no-gutters mb-2 bg-white'} onSubmit={this.updateName}>\r\n                                <div className={'col-2 text-center text-primary'}>\r\n                                    <i className={\"material-icons \" + classes.icon}>person</i>\r\n                                </div>\r\n                                <div className={'col-8'}>\r\n                                    <h4 className=\"h6 font-weight-light\">Username</h4>\r\n                                    <input type=\"text\" className={classes.input + \" h5 text-capitalize\"} onChange={this.nameChanged} value={this.state.userData.username} />\r\n                                </div>\r\n                                <div className={'col-2 text-center text-secondary'}>\r\n                                    <button className=\"btn btn-outline-dark btn-sm\"><i className={\"material-icons md-24\"}>check</i></button>\r\n                                </div>\r\n                            </form>\r\n                            <div className={'row no-gutters mb-2 bg-white'}>\r\n                                <div className={'col-2 text-center text-info'}>\r\n                                    <i className={\"material-icons \" + classes.icon}>phone</i>\r\n                                </div>\r\n                                <div className={'col-8'}>\r\n                                    <h4 className=\"h6 font-weight-light\">Phone number</h4>\r\n                                    <h4 className=\"h5\">{this.state.userData.phoneNumber ? this.state.userData.phoneNumber : \" + Add phone number\"}</h4>\r\n                                </div>\r\n                                <div className={'col-2 text-center text-secondary'}>\r\n                                    <i className={\"material-icons md-24\"}>edit</i>\r\n                                </div>\r\n                            </div>\r\n                            <div className={'row no-gutters mb-2 bg-white'}>\r\n                                <div className={'col-2 text-center text-success'}>\r\n                                    <i className={\"material-icons \" + classes.icon}>home</i>\r\n                                </div>\r\n                                <div className={'col-8'}>\r\n                                    <h4 className=\"h6 font-weight-light\">Home address</h4>\r\n                                    <h4 className=\"h5\">{this.state.userData.address ? this.state.userData.address : \" + Add home address\"}</h4>\r\n                                </div>\r\n                                <div className={'col-2 text-center text-secondary'}>\r\n                                    <i className={\"material-icons md-24\"}>edit</i>\r\n                                </div>\r\n                            </div>\r\n                            <div className={'row no-gutters mb-2 bg-white'}>\r\n                                <div className={'col-2 text-center text-warning'}>\r\n                                    <i className={\"material-icons \" + classes.icon}>face</i>\r\n                                </div>\r\n                                <div className={'col-8'}>\r\n                                    <h4 className=\"h6 font-weight-light\">Gender</h4>\r\n                                    <h4 className=\"h5\">{this.state.userData.gender ? this.state.userData.gender : \"Not set\"}</h4>\r\n                                </div>\r\n                                <div className={'col-2 text-center text-secondary'}>\r\n                                    <i className={\"material-icons md-24\"}>edit</i>\r\n                                </div>\r\n                            </div>\r\n                            <div className={'row no-gutters mb-2 bg-white'}>\r\n                                <div className={'col-2 text-center text-danger'}>\r\n                                    <i className={\"material-icons \" + classes.icon}>cake</i>\r\n                                </div>\r\n                                <div className={'col-8'}>\r\n                                    <h4 className=\"h6    font-weight-light\">Date of birth</h4>\r\n                                    <h4 className=\"h5\">{this.state.userData.birthday ? this.state.userData.birthday : \"Not set\"}</h4>\r\n                                </div>\r\n                                <div className={'col-2 text-center text-secondary'}>\r\n                                    <i className={\"material-icons md-24\"}>edit</i>\r\n                                </div>\r\n                            </div>\r\n                        </React.Fragment>\r\n                        }\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport classes from \"./Home.css\";\r\nimport { Link } from 'react-router-dom';\r\nimport firebase from '../../firebase';\r\nimport img from '../../assets/Image/logo/logo_red.png'\r\nimport 'firebase/auth';\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    userData: null\r\n  }\r\n  componentDidMount() {\r\n\r\n    document.title = \"Skychat homepage\";\r\n    this.checkUser()\r\n  }\r\n\r\n  checkUser = () => {\r\n    firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        const userdata = {\r\n          username: user.displayName,\r\n          profilePicture: user.photoURL\r\n        }\r\n        this.setState({ userData: userdata })\r\n        this.props.history.push('/feed')\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={classes.home} id=\"page-top\">\r\n        <header className={classes.masthead}>\r\n          <div className=\"container h-100\">\r\n            <div className=\"row h-100\">\r\n              <div className=\"col-lg-7 my-auto\">\r\n                {this.state.userData ? <div className=\" py-4 mx-auto d-flex text-light align-items-center justify-content-center\">\r\n                  <img style={{ height: \"5rem\", flexShrink: 0, width: \"5rem\", objectFit: \"cover\" }} src={this.state.userData.profilePicture} className=\"bg-light rounded-circle \" alt=\"\" />\r\n                  <div className=\"text-light px-3 \">\r\n\r\n                    <h4 className=\"text-light h6\">{this.state.userData.username} is already logged in</h4>\r\n                    <Link to={\"/\" + this.state.userData.username} className=\"btn btn-outline-light px-3 btn-sm  rounded-pill\">Continue as {this.state.userData.username}</Link>\r\n                  </div>\r\n                </div>\r\n                  : null}\r\n                <div className={classes.header_content + \" mx-auto\"}>\r\n                  <h1 >Welcome to skychat</h1>\r\n                  <img src={'logo.png'} />\r\n                  <div className={classes.buttons}>\r\n                    <Link style={{ color: 'white' }} to=\"/SignUp\" className=\"btn btn-warning px-5  rounded-pill\">Sign up</Link>\r\n\r\n                    <Link to=\"/login\" className=\"btn btn-light px-5  rounded-pill\">Login </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Link, NavLink, Route, Switch, withRouter } from 'react-router-dom';\r\nimport Logo from '../../Logo/Logo';\r\nimport classes from './Toolbar.css';\r\nimport firebase from '../../../firebase';\r\nimport 'firebase/auth';\r\n\r\nconst toolbar = props => {\r\n    var profile = props.profile,\r\n        shade = 'navbar-light',\r\n        logoType = 'l6',\r\n        bgColor = 'var(--white)';\r\n\r\n    var user = firebase.auth().currentUser\r\n\r\n    if (!profile) {\r\n        if (user) {\r\n            profile = user.uid\r\n        }\r\n    }\r\n\r\n    window.addEventListener('scroll', () => {\r\n\r\n    })\r\n    if (props.location.pathname === '/notifications') {\r\n        bgColor = '#f32';\r\n        logoType = 'l6'\r\n        shade = 'navbar-dark'\r\n    } else {\r\n        shade = 'navbar-light'\r\n        bgColor = 'var(--white)'\r\n        logoType = 'l1'\r\n    }\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <nav style={{\r\n                background: bgColor\r\n            }} className={classes.Toolbar + \"   navbar navbar-expand  fixed-top \" + shade}>\r\n                <div className=\"container-fluid h-100\">\r\n                    <Route path=\"/menu/:nest\" render={() => (\r\n                        <i style={{ cursor: \"pointer\" }} onClick={props.history.goBack} className=\" material-icons px-3\">arrow_back</i>\r\n                    )} />\r\n                    <Link to=\"/\" className=\" navbar-brand align-items-center d-flex p-0 pb-1 pl-lg-3 h-100\">\r\n                        {localStorage.getItem('skychatTheme') === 'dark' ? <Logo type={'l5'} width=\"7rem\" /> : <Logo type={logoType} width=\"7rem\" />}\r\n                    </Link>\r\n                    <div className=\"navbar-collapse collapse\">\r\n                        <ul className={\"text-capitalize navbar-nav ml-auto \"}>\r\n                            {user ? <Link className=\"active ml-auto nav-link js-scroll-trigger\" to={'/messages'}>\r\n                                <i className=\"material-icons\">chats</i>\r\n                            </Link> : ''\r\n                            }\r\n                            <div className=\"d-none d-lg-inline-flex\">\r\n                                {user ? <li className=\"nav-item col-3 \">\r\n                                    <NavLink activeClassName={classes.active} className=\"nav-link js-scroll-trigger\" to={\"/feed\"}>\r\n                                        <i className='material-icons'>home</i>\r\n                                    </NavLink>\r\n                                </li> : null}\r\n                                <li className=\"nav-item col-3 \">\r\n                                    <NavLink activeClassName={classes.active} className=\"nav-link js-scroll-trigger\" to={\"/\" + profile}>\r\n                                        <i className='material-icons'>account_circle</i>\r\n                                    </NavLink>\r\n                                </li>\r\n                                {user ? <li className=\"nav-item col-3\">\r\n                                    <NavLink activeClassName={classes.active} className=\"nav-link js-scroll-trigger\" to={'/notifications'}><i className='material-icons'>notifications</i>\r\n                                    </NavLink>\r\n                                </li> : ''}\r\n\r\n                                {user ? <li className=\"nav-item col-3\">\r\n                                    <NavLink activeClassName={classes.active} className=\"nav-link js-scroll-trigger\" to={'/menu'}>\r\n                                        <i className='material-icons'>menu</i>\r\n                                    </NavLink>\r\n                                </li> : ''\r\n                                }\r\n\r\n                            </div>\r\n                            {user ? '' : <Link className=\"ml-auto  nav-link js-scroll-trigger\" to={'/login'}>\r\n                                <button style={{\r\n                                    background: 'orangered',\r\n                                    color: 'white'\r\n                                }} className=\"btn rounded-pill\">Log in</button>\r\n                            </Link>}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n            <Switch>\r\n                <Route path=\"/\" exact />\r\n                <Route render={() => (\r\n                    <nav className={classes.Navbar + \" fixed-bottom d-lg-none navbar navbar-expand navbar-light\"}>\r\n                        <div className=\"container-fluid navbar-collapse collapse p-0\">\r\n                            <ul className=\" navbar-nav w-100 text-center \" >\r\n                                <li className=\"nav-item col-3 \">\r\n                                    <NavLink activeClassName={classes.active} className=\"nav-link js-scroll-trigger\" to={\"/feed\"}>\r\n                                        <i className='material-icons'>home</i>\r\n                                    </NavLink>\r\n                                </li>\r\n                                <li className=\"nav-item col-3 \">\r\n                                    <NavLink activeClassName={classes.active} className=\"nav-link js-scroll-trigger\" to={\"/\" + profile}>\r\n                                        <i className='material-icons'>account_circle</i>\r\n                                    </NavLink>\r\n                                </li>\r\n                                {profile ? <li className=\"nav-item col-3\">\r\n                                    <NavLink activeClassName={classes.active} className=\"nav-link js-scroll-trigger\" to={'/notifications'}><i className='material-icons'>notifications</i>\r\n                                    </NavLink>\r\n                                </li> : ''}\r\n\r\n                                {profile ? <li className=\"nav-item col-3\">\r\n                                    <NavLink activeClassName={classes.active} className=\"nav-link js-scroll-trigger\" to={'/menu'}>\r\n                                        <i className='material-icons'>menu</i>\r\n                                    </NavLink>\r\n                                </li> : ''}\r\n                            </ul>\r\n                        </div>\r\n                    </nav>\r\n                )} />\r\n            </Switch>\r\n\r\n        </React.Fragment >\r\n\r\n    )\r\n}\r\n\r\nexport default withRouter(toolbar)","import React from 'react';\r\n\r\nimport classes from './Backdrop.css';\r\n\r\nconst backdrop = (props) => (\r\n    props.show ? <div className={classes.Backdrop} onClick={props.clicked}></div> : null\r\n);\r\n\r\nexport default backdrop;","import React, { Component } from 'react';\r\n\r\nimport classes from './Modal.css';\r\nimport Backdrop from '../Backdrop/Backdrop';\r\n\r\nclass Modal extends Component {\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        return nextProps.show !== this.props.show || nextProps.children !== this.props.children;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Backdrop show={this.props.show} clicked={this.props.modalClosed} />\r\n                <div\r\n                    className={classes.Modal}\r\n                    style={{\r\n                        transform: this.props.show ? 'translate(-50%, -50%)' : 'translate(-50% ,-100vh)',\r\n                        opacity: this.props.show ? '1' : '0'\r\n                    }}>\r\n                    <button className={classes.cancel} onClick={this.props.modalClosed}> x </button>\r\n                    {this.props.children}\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport classes from './friends.css';\r\nimport { Link } from 'react-router-dom';\r\nimport 'firebase/database';\r\nimport firebase from '../../firebase';\r\nimport Spinner from '../../component/UI/Spinner/Spinner'\r\nimport Toast from '../UI/Toast/Toast';\r\nimport Modal from '../UI/Modal/Modal';\r\n\r\nimport friendsImg from '../../assets/Image/friends.png';\r\n\r\nclass Friends extends Component {\r\n    state = {\r\n        friendsData: [],\r\n        loading: false,\r\n        uid: this.props.uid,\r\n        toast: null\r\n    }\r\n    componentDidMount() {\r\n        this.getFriends(this.props.uid)\r\n        \r\n    }\r\n    componentDidUpdate() {\r\n        if (this.state.uid !== this.props.uid) {\r\n            this.setState({ uid: this.props.uid })\r\n            this.getFriends(this.props.uid)\r\n        }\r\n    }\r\n    getFriends(uid) {\r\n        if (uid) {\r\n            this.setState({ loading: true })\r\n            var ref = firebase.database().ref('users/' + uid)\r\n            ref.on('value', s => {\r\n                if (s.val().friendsId) {\r\n                    const friendsData = []\r\n                    for (let keys in s.val().friendsId) {\r\n                        firebase.database().ref('users/' + s.val().friendsId[keys])\r\n                            .once('value', snap => {\r\n                                if(snap.val()){\r\n\r\n                                const friend = {\r\n                                    username: snap.val().username,\r\n                                    profilePicture: snap.val().profilePicture,\r\n                                    uid: s.val().friendsId[keys]\r\n                                }\r\n                                friendsData.push(friend)\r\n                                }\r\n                            })\r\n                    }\r\n                    this.setState({ friendsData: friendsData.reverse(), loading: false })\r\n        console.log(friendsData);\r\n                } else {\r\n                    this.setState({ friendsData: [], loading: false })\r\n\r\n                }\r\n            })\r\n        }\r\n    }\r\n    allFriends = () => {\r\n        this.setState({ showAllFriends: true })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            this.state.loading ? <Spinner fontSize=\"3px\" /> : this.props.uid ? <div className=\"container-fluid p-0\">\r\n                <Modal show={this.state.showAllFriends} modalClosed={() => this.setState({ showAllFriends: false, seeMore: false })} >\r\n                    <div className=\"d-flex  pb-3 align-items-center\">\r\n                        <img\r\n                            className={classes.img}\r\n                            src={this.props.profilePicture}\r\n                            alt=\"\"\r\n                        />\r\n                        <h4 className=\"h5 text-capitalize ml-4\">{this.props.username}'s Friends <small>{this.state.friendsData.length}</small> </h4>\r\n                    </div>\r\n                    {this.state.friendsData.map((cur, i) => (\r\n                        !this.state.seeMore ? i < 2 ?\r\n                            <Link\r\n                                to={\"/\" + cur.uid}\r\n                                className={classes.friendList}\r\n                                onClick={() => { this.setState({ showAllFriends: false, seeMore: false }) }}\r\n                                key={cur.username}\r\n                            >\r\n                                <img\r\n                                    src={cur.profilePicture}\r\n                                    alt=\"\"\r\n                                />\r\n                                <div style={{ fontSize: ' .9rem ' }} className=\"text-dark px-2  py-1 card-body\">{cur.username}</div>\r\n                            </Link>\r\n\r\n                            : null : <Link\r\n                                to={\"/\" + cur.uid}\r\n                                className={classes.friendList}\r\n                                key={cur.username}\r\n                                onClick={() => { this.setState({ showAllFriends: false, seeMore: false }) }}\r\n\r\n                            >\r\n                                <img\r\n                                    src={cur.profilePicture}\r\n                                    alt=\"\"\r\n                                />\r\n                                <div style={{ fontSize: ' .9rem ' }} className=\"text-dark px-2  py-1 card-body\">{cur.username}</div>\r\n                            </Link>\r\n                    ))}\r\n                    {this.state.friendsData.length > 2 ? <button className=\"rounded-pill d-flex mx-auto my-3 btn btn-sm btn-outline-primary\" onClick={() => { this.setState({ seeMore: !this.state.seeMore }) }}>{this.state.seeMore ? \"See less\" : \"See more ->\"}</button> : null}\r\n                </Modal>\r\n                {this.state.toast ? <Toast>{this.state.toast}</Toast> : null}\r\n                <div className=\"row bg-white border-bottom no-gutters\">\r\n                    <div className=\"col-12 px-3 d-flex align-items-center\">\r\n                        <i className=\"material-icons md-36 pr-2\">perm_identity</i>\r\n                        <h4 className=\"mb-0\">\r\n                            Friends{\" \"}\r\n                            <span className=\"pl-2 font-weight-light\">\r\n                                {this.state.friendsData.length}\r\n                            </span>\r\n                        </h4>\r\n                    </div>\r\n                    <div className=\"col-12 px-3\">\r\n                        <div className={classes.horizontal_scroll + \" row no-gutters \"}>\r\n                            {this.state.friendsData.map((cur, i) => (\r\n                                i < 3 ? <div className=\"col-4 col-lg-3 px-1\"\r\n                                    key={i}\r\n                                >\r\n                                    <Link\r\n                                        to={\"/\" + cur.uid}\r\n                                        className={classes.friendCard}\r\n                                    >\r\n                                        <img\r\n                                            src={cur.profilePicture}\r\n                                            alt=\"\"\r\n                                        />\r\n                                        <div style={{ fontSize: ' .9rem ' }} className=\"text-dark px-2  py-1 card-body\">{cur.username}</div>\r\n                                    </Link>\r\n                                </div> : null\r\n                            ))}\r\n                            <div className=\"col-4 col-lg-3 px-1\"\r\n                            >\r\n                                <button\r\n                                    onClick={this.allFriends}\r\n                                    className={classes.friendCard}\r\n                                >\r\n                                    <img\r\n                                        alt=\"\"\r\n\r\n                                        src={friendsImg}\r\n                                    />\r\n                                    <div style={{ fontSize: ' .9rem ' }} className=\"text-dark px-2  py-1 card-body\">See all friends</div>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div> : null\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Friends\r\n","import React, { Component } from \"react\";\r\nimport \"firebase/database\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport firebase from \"../../firebase\";\r\nimport Spinner from \"../../component/UI/Spinner/Spinner\";\r\nimport Search from \"../../component/Forms/Search/Searxh\";\r\nimport Toast from \"../../component/UI/Toast/Toast\";\r\n\r\nclass Friends extends Component {\r\n  state = {\r\n    loading: false,\r\n    allUsers: null,\r\n    toast: null,\r\n    request: []\r\n  };\r\n  componentDidMount() {\r\n    this.getRequest();\r\n    this.getAllUsers();\r\n  }\r\n  getAllUsers() {\r\n    this.setState({ loading: true });\r\n\r\n    var ref = firebase.database().ref(\"users/\");\r\n    ref.on(\"value\", s => {\r\n      var allUsers = [];\r\n      if (this.props.userData.uid) {\r\n        var friends = s.val()[this.props.userData.uid].friendsId;\r\n        var friendsId = [];\r\n        // updating the friends id array\r\n        if (friends) {\r\n          for (let keys in friends) {\r\n            friendsId.push(friends[keys]);\r\n          }\r\n        }\r\n        // checking if the user isnt you then updating the array\r\n        for (let key in s.val()) {\r\n          if (s.val()[key].username !== this.props.userData.username) {\r\n            //   checking if request already sent\r\n            var user = {\r\n              username: s.val()[key].username,\r\n              profilePicture: s.val()[key].profilePicture,\r\n              uid: key\r\n            };\r\n            var requests = s.val()[key].requestsId;\r\n            for (let ids in requests) {\r\n              if (requests[ids] === this.props.userData.uid) {\r\n                user = {\r\n                  username: s.val()[key].username,\r\n                  profilePicture: s.val()[key].profilePicture,\r\n                  uid: key,\r\n                  sent: true\r\n                };\r\n              }\r\n            }\r\n\r\n            allUsers.push(user);\r\n          }\r\n        }\r\n        // removing friends from the all users array\r\n        var remove = [];\r\n        friendsId.forEach(cur => {\r\n          allUsers.forEach((key, i) => {\r\n            if (cur === key.uid) {\r\n              remove.push(i);\r\n            }\r\n          });\r\n        });\r\n        for (var i = remove.length - 1; i >= 0; i--) allUsers[remove[i]] = null;\r\n        //# removing friends from the all users array\r\n\r\n        this.setState({ loading: false, allUsers: allUsers });\r\n      }\r\n    });\r\n  }\r\n  sendRequest = (receiverId, index) => {\r\n    var ref = firebase.database().ref(\"/users/\" + receiverId + \"/requestsId\");\r\n    ref\r\n      .push(this.props.userData.uid)\r\n      .then(res => {\r\n        this.setState({ toast: null });\r\n        this.setState({ toast: \"Request sent\" });\r\n      })\r\n      .catch(res => {\r\n        this.setState({ toast: \"Request  notsent\" });\r\n      });\r\n  };\r\n  getRequest = () => {\r\n    var ref = firebase\r\n      .database()\r\n      .ref(\"users/\" + this.props.userData.uid + \"/requestsId\");\r\n    ref.on(\"value\", s => {\r\n      const req = [];\r\n      for (let keys in s.val()) {\r\n        req.push({\r\n          friendId: s.val()[keys],\r\n          requestId: keys\r\n        });\r\n      }\r\n      const request = [];\r\n      req.forEach(element => {\r\n        var ref = firebase.database().ref(\"users/\" + element.friendId);\r\n        ref.on(\"value\", snap => {\r\n          var user = {\r\n            username: snap.val().username,\r\n            profilePicture: snap.val().profilePicture,\r\n            uid: element.friendId,\r\n            reqId: element.requestId\r\n          };\r\n          request.push(user);\r\n        });\r\n      });\r\n\r\n      this.setState({ request: request });\r\n    });\r\n  };\r\n  acceptRequest = (uid, uname, photo, index, reqId) => {\r\n    var ref = firebase.database().ref(\"users/\" + uid);\r\n    var myRef = firebase.database().ref(\"users/\" + this.props.userData.uid);\r\n    var chatId = this.props.userData.username + \"&\" + uname;\r\n\r\n    var chatsRef = firebase.database().ref(\"chats/\" + chatId);\r\n    ref.child(\"friendsId\").push(this.props.userData.uid);\r\n    ref.child(\"chatsId\").push(chatId);\r\n    myRef.child(\"friendsId\").push(uid);\r\n    myRef.child(\"chatsId\").push(chatId);\r\n\r\n    chatsRef\r\n      .set({\r\n        metadata: {\r\n          [this.props.userData.uid]: {\r\n            profilePicture: this.props.userData.profilePicture,\r\n            username: this.props.userData.username\r\n          },\r\n          [uid]: {\r\n            profilePicture: photo,\r\n            username: uname\r\n          }\r\n        }\r\n      })\r\n      .then(res => {\r\n        chatsRef.child(\"chats/\").push({\r\n          message:\r\n            \"You are now connected together. Enjoy messaging in the cloud \",\r\n          sender: \"skymail\",\r\n          date: Date.now()\r\n        });\r\n        const request = this.state.request;\r\n        request.splice(index, 1);\r\n        this.setState({ request: request });\r\n      });\r\n\r\n    var updates = {};\r\n    updates[\r\n      \"/users/\" + this.props.userData.uid + \"/requestsId/\" + reqId\r\n    ] = null;\r\n    updates[\"/users/\" + uid + \"/requestsId/\" + reqId] = null;\r\n    return firebase\r\n      .database()\r\n      .ref()\r\n      .update(updates);\r\n  };\r\n  declineRequest = (uid, reqId) => {\r\n    var updates = {};\r\n    updates[\r\n      \"/users/\" + this.props.userData.uid + \"/requestsId/\" + reqId\r\n    ] = null;\r\n    updates[\"/users/\" + uid + \"/requestsId/\" + reqId] = null;\r\n    return firebase\r\n      .database()\r\n      .ref()\r\n      .update(updates);\r\n  };\r\n  cancelRequest = receiverId => {\r\n    var ref = firebase.database().ref(\"/users/\" + receiverId + \"/requestsId\");\r\n    ref.on(\"value\", s => {\r\n      for (let keys in s.val()) {\r\n        if (s.val()[keys] === this.props.userData.uid) {\r\n          firebase\r\n            .database()\r\n            .ref(\"/users/\" + receiverId + \"/requestsId/\" + keys)\r\n            .remove()\r\n            .then(() => {\r\n              this.setState({ toast: null });\r\n              this.setState({ toast: \"Request canceled\" });\r\n            });\r\n        }\r\n      }\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid p-0\">\r\n        {this.state.toast ? <Toast>{this.state.toast}</Toast> : null}\r\n        <div className=\"border-bottom row no-gutters bg-white py-3\">\r\n          <h1 className=\"col-12 px-3  h4\">\r\n            You have {this.state.request.length} Friend request\r\n            <small>(s)</small>{\" \"}\r\n          </h1>\r\n          {this.props.hideReq ? null : this.state.request.map((cur, i) => (\r\n            <div\r\n              className=\"row align-items-center py-2 px-3 no-gutters \"\r\n              key={cur.uid}\r\n            >\r\n              <div className=\"col-3 col-md-2\">\r\n                <img\r\n                  src={cur.profilePicture}\r\n                  alt=\"\"\r\n                  style={{\r\n                    height: \"3.5rem\",\r\n                    width: \"3.5rem\",\r\n                    objectFit: \"cover\"\r\n                  }}\r\n                  className=\" rounded-circle border\"\r\n                />\r\n              </div>\r\n              <div className=\"col-9 pl-4\">\r\n                <h5 className=\"text-capitalize h6 font-weight-bold\">\r\n                  {cur.username}\r\n                </h5>\r\n                <div className=\"d-flex \">\r\n                  <button\r\n                    onClick={() => {\r\n                      this.declineRequest(cur.uid, cur.reqId);\r\n                    }}\r\n                    className=\"btn-sm px-3 btn btn-red\"\r\n                  >\r\n                    Decline\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {\r\n                      this.acceptRequest(\r\n                        cur.uid,\r\n                        cur.username,\r\n                        cur.profilePicture,\r\n                        i,\r\n                        cur.reqId\r\n                      );\r\n                    }}\r\n                    className=\"btn-sm btn btn-outline-warning ml-3 px-5\"\r\n                  >\r\n                    Accept\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {this.props.hideAll ? null : <div className=\"border-bottom row no-gutters bg-light py-5\">\r\n          <h3 className=\"col-12 pl-3 h5\"> Find new friends to fly with</h3>\r\n          <div className=\"col-12 px-3\">\r\n            <Search />\r\n          </div>\r\n          <div className=\"col-12 pt-4\">\r\n            {!this.state.allUsers ? (\r\n              <Spinner fontSize=\"4px\" />\r\n            ) : (\r\n                this.state.allUsers.map((cur, i) =>\r\n                  cur ? (\r\n                    <div\r\n                      className=\"row align-items-center py-2 px-3 no-gutters \"\r\n                      key={i}\r\n                    >\r\n                      <div className=\"col-2 col-md-1\" onClick={() => {\r\n                        this.props.history.push('/' + cur.uid)\r\n                      }}>\r\n                        <img\r\n                          src={cur.profilePicture}\r\n                          alt=\"\"\r\n                          style={{\r\n                            height: \"3.5rem\",\r\n                            width: \"3.5rem\",\r\n                            objectFit: \"cover\"\r\n                          }}\r\n                          className=\"rounded-circle border\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"col pl-4\">\r\n                        <h5 className=\"text-capitalize h6 font-weight-bold\">\r\n                          {cur.username}\r\n                        </h5>\r\n                        <div>\r\n                          {cur.sent ? (\r\n                            <button\r\n                              onClick={() => {\r\n                                this.cancelRequest(cur.uid);\r\n                              }}\r\n                              className=\"btn btn btn-red\"\r\n                            >\r\n                              X <span className=\"pl-3\"> Cancel Request</span>\r\n                            </button>\r\n                          ) : (\r\n                              <button\r\n                                onClick={() => {\r\n                                  this.sendRequest(cur.uid, i);\r\n                                }}\r\n                                className=\"btn btn btn-outline-success\"\r\n                              >\r\n                                + <span className=\"pl-4\">Add friend</span>\r\n                              </button>\r\n                            )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ) : null\r\n                )\r\n              )}\r\n          </div>\r\n        </div>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Friends);\r\n","import React, { useState } from 'react';\r\nimport classes from './post.css';\r\nimport firebase from '../../../firebase';\r\nimport { Link } from 'react-router-dom';\r\nexport default props => {\r\n    let date = 'Dec 12 2019 at 5:30pm'\r\n    var weekDays = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n    var months = [\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Sep\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\"\r\n    ];\r\n    var now = new Date(props.date);\r\n    var month = months[now.getMonth()];\r\n    var year = now.getFullYear();\r\n    var monthDay = now.getDate();\r\n    var week = weekDays[now.getDay()];\r\n    var hour = now.getHours();\r\n    var min = dec(now.getMinutes());\r\n    var lastTime = now.getTime();\r\n    var clock = \" am\";\r\n    if (hour > 12) {\r\n        clock = \" pm\";\r\n        hour -= 12\r\n    }\r\n    function dec(num) {\r\n        if (num < 10) return \"0\" + num;\r\n        else return num;\r\n    }\r\n    var current = new Date()\r\n\r\n    if (current.getDate() === monthDay) {\r\n        date = \"Today at \" + hour + \":\" + min + clock;\r\n    } else if ((current.getDate() - monthDay === 1) || (current.getDate() - monthDay === -30)) {\r\n        date = \"Yesterday at \" + hour + \":\" + min + clock;\r\n    } else if (\r\n        current.getDate() - monthDay > 1 &&\r\n        current.getDate() - monthDay < 7\r\n    ) {\r\n        date = week + \" at \" + hour + \":\" + min + clock;\r\n    } else if (year === current.getFullYear()) {\r\n        date =\r\n            month + \" \" + monthDay + \" at \" + monthDay + \" \" + hour + \":\" + min + clock;\r\n    } else if (year > current.getFullYear()) {\r\n        date =\r\n            month +\r\n            \" \" +\r\n            monthDay +\r\n            \" \" +\r\n            year +\r\n            \" at \" +\r\n            hour +\r\n            \":\" +\r\n            min +\r\n            clock;\r\n    } else {\r\n        date = week + '  ' + hour + ':' + min + clock\r\n    }\r\n\r\n    const [showBtn, setShowBtn] = useState(false)\r\n    const like = () => {\r\n        const ref = firebase.database().ref('posts/' + props.id + \"/likes/\" + props.likeeId)\r\n        if (props.liked) {\r\n            ref.set(null).then(() => {\r\n\r\n            })\r\n        } else {\r\n            ref.set(Date.now()).then(() => {\r\n            })\r\n        }\r\n    }\r\n    let likes = []\r\n    if (props.likes) {\r\n        for (let keys in props.likes)\r\n            firebase.database().ref('users/' + keys).on('value', s => {\r\n                let user = s.val()\r\n                likes.push(user)\r\n            })\r\n    }\r\n    const lastLike = likes[likes.length - 1]\r\n    let video = React.createRef()\r\n\r\n    window.addEventListener('scroll', () => {\r\n        let videos = video.current\r\n        if (videos !== null) {\r\n            if (videos.getBoundingClientRect().top <= 300 && videos.getBoundingClientRect().top > 0) {\r\n                videos.play()\r\n            } else {\r\n                videos.pause()\r\n            }\r\n\r\n        }\r\n\r\n        // console.log(video.current.getClientBoundingTriangle());\r\n\r\n    })\r\n    const [value, changed] = useState('')\r\n\r\n\r\n    return (\r\n        <div className={classes.Post + \" mb-3 bg-white\"} >\r\n            <div className=\"d-flex align-items-center px-3 py-2\">\r\n                <Link to={\"/\" + props.uid}>\r\n                    <img src={props.icon} alt=\"\" className={classes.icon + \" border rounded-circle\"} />\r\n                </Link>\r\n                <div className=\"px-3\">\r\n\r\n                    <h4 className={classes.coprate + \" h6\"}>{props.username}</h4>\r\n                    <p className={classes.date}>{date}</p>\r\n                </div>\r\n                <i className={classes.moreCon + \" material-icons ml-auto\"}>more_vert</i>\r\n                <div className={classes.more}>\r\n                    {props.isMine ? <button onClick={props.deletePost} >Delete post</button> : null}\r\n                </div>\r\n            </div>\r\n            {props.title ?\r\n                <h1 className={classes.title + \" h3 px-4 py-2 \"}>{props.title}</h1> : null}\r\n            {props.body ? <p className=\"px-3 pb-2\" dangerouslySetInnerHTML={{ __html: props.body }}>\r\n            </p> : null\r\n            }\r\n            {\r\n                props.type ? <div className={classes.con}>\r\n                    {props.type === 'images' ?\r\n                        <img alt=\"\" src={props.src} className=\"border-0\" />\r\n                        : null}\r\n                    {props.type === 'video' ?\r\n                        <video ref={video} controls loop src={props.src}></video>\r\n                        : null}\r\n                </div> : null\r\n            }\r\n\r\n            <form onSubmit={(e) => { changed(''); setShowBtn(false); props.postComment(e, value) }} className={classes.btnCon + \"  d-flex align-items-center px-2 \"}>\r\n                <input onBlur={() => {\r\n                    if (!value) {\r\n                        setShowBtn(false)\r\n                    }\r\n                }} onFocus={() => {\r\n                    setShowBtn(true)\r\n                }} type=\"text\" placeholder=\"Comment.....\" className={classes.comment} value={value} onChange={(e) => { changed(e.target.value) }} required />\r\n                {showBtn ? <button className={classes.btn} type=\"submit\" >\r\n                    <i className=\"material-icons \" >chat_bubble_outline</i>\r\n                </button> : <React.Fragment>\r\n                        <button type=\"button\" style={{ color: props.liked ? 'red' : null }} className={classes.btn} onClick={like}>\r\n                            <i className=\"material-icons \">{props.liked ? 'favorite' : 'favorite_border'}</i>\r\n                            {/* Like */}\r\n                        </button>\r\n\r\n\r\n                        <button type=\"button\" className={classes.btn}>\r\n                            <i className=\"material-icons \">share</i>\r\n                            {/* Share */}\r\n                        </button>\r\n                    </React.Fragment>}\r\n            </form>\r\n            <div className=\"d-flex px-3  align-items-center \">\r\n\r\n                {lastLike ?\r\n                    <span className=\"\">\r\n                        Liked by  <strong className=\"text-capitalize px-1\"> {lastLike.username} </strong>  {likes.length - 1 > 0 ? <React.Fragment>and <strong className=\" px-1\"> {likes.length - 1} </strong> other(s)</React.Fragment> : null}\r\n                    </span> : null}\r\n            </div>\r\n            {props.comments ? <div className=\" px-3 pb-2 \">\r\n\r\n                <React.Fragment>\r\n                    <span className=\"pb-3 d-block\">{props.comments.length} comment((s))</span>\r\n                    {props.comments.map(cur => (\r\n\r\n                        <div className={classes.comments_box} key={cur.comment + cur.uid}>\r\n                            <img src={cur.profilePicture} alt=\"\" />\r\n                            <div>\r\n                                <h5 className=\"text-capitalize\">{cur.username}</h5>\r\n                                <p>{cur.comment}</p>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </React.Fragment>\r\n\r\n            </div>\r\n                : null}\r\n        </div >\r\n\r\n    )\r\n\r\n}","import React, { Component } from 'react';\r\nimport Post from './Post/Post';\r\nimport firebase from '../../firebase';\r\nimport 'firebase/database';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\n\r\nimport Toast from '../UI/Toast/Toast'\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport play from '../Audio/Audio'\r\n\r\nexport default class Posts extends Component {\r\n    state = {\r\n        posts: [],\r\n        loading: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        // this.setState({loading : true})\r\n        const user = firebase.auth().currentUser\r\n        if (user) {\r\n        }\r\n        this.getPosts(this.props.uid)\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.state.uid !== this.props.uid) {\r\n            this.setState({ uid: this.props.uid })\r\n            this.getPosts(this.props.uid)\r\n        }\r\n    }\r\n    deletePost = (id, src) => {\r\n        if (src) {\r\n            var desertRef = firebase.storage().ref(src);\r\n            desertRef.delete()\r\n            firebase.database().ref('posts/' + id).set(null)\r\n        } else {\r\n            firebase.database().ref('posts/' + id).set(null)\r\n        }\r\n    }\r\n    getPosts = (uid) => {\r\n        this.setState({ loading: true })\r\n        const ref = firebase.database().ref('posts/').orderByChild('uid').equalTo(uid)\r\n        ref.on('value', s => {\r\n            const posts = []\r\n            for (let key in s.val()) {\r\n                firebase.database().ref('users/' + s.val()[key].uid).on('value', snap => {\r\n                    const post = {\r\n                        title: s.val()[key].title,\r\n                        body: s.val()[key].body,\r\n                        id: key,\r\n                        icon: snap.val().profilePicture,\r\n                        username: snap.val().username,\r\n\r\n                        date: s.val()[key].date,\r\n                        type: s.val()[key].type,\r\n                        uid: s.val()[key].uid,\r\n                        liked: false,\r\n                        storageRef: s.val()[key].storageRef,\r\n                        likes: s.val()[key].likes,\r\n                        src: s.val()[key].src,\r\n                    }\r\n                    if (s.val()[key].uid === this.props.likeeId) {\r\n                        post.isMine = true\r\n                    }\r\n                    if (s.val()[key].comments) {\r\n                        const com = []\r\n                        for (let keys in s.val()[key].comments) {\r\n                            com.push(s.val()[key].comments[keys])\r\n                        }\r\n                        post.comments = com.reverse()\r\n                    }\r\n\r\n                    if (post.likes) {\r\n\r\n                        if (post.likes[this.props.likeeId]) {\r\n                            post.liked = true\r\n                        }\r\n                    }\r\n                    posts.push(post)\r\n                })\r\n\r\n            }\r\n            this.setState({ posts: posts.reverse(), loading: false })\r\n\r\n\r\n\r\n        })\r\n    }\r\n    postComment = (e, text, id) => {\r\n        e.preventDefault()\r\n        console.log('post', text, id);\r\n        firebase.database().ref('users/' + this.props.likeeId).once('value', s => {\r\n            const comment = {\r\n                username: s.val().username,\r\n                profilePicture: s.val().profilePicture,\r\n                uid: this.props.likeeId,\r\n                date: Date.now(),\r\n                comment: text\r\n            }\r\n            firebase.database().ref('posts/' + id + \"/comments\").push(comment).then(() => {\r\n                play('success')\r\n            })\r\n        })\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            this.state.loading ? <div style={{ height: \"5rem\" }}><Spinner fontSize=\"3px\" /></div> : <div className=\"pt-2 \">\r\n                {this.state.toast ? <Toast message={this.setState.toast} /> : null}\r\n                <h4 className=\"pl-4 py-3 bg-white m-0\">Posts <small>{this.state.posts.length}</small> </h4>\r\n                {this.state.posts.map(cur => (\r\n\r\n                    <Post\r\n                        {...cur}\r\n                        key={cur.id}\r\n                        postComment={(e, val) => { this.postComment(e, val, cur.id) }}\r\n                        deletePost={() => { this.deletePost(cur.id, cur.storageRef) }}\r\n                        likeeId={this.props.likeeId}\r\n\r\n                    />\r\n                ))}\r\n                <p className=\"text-center\">No more posts </p>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport classes from './NewPost.css'\r\n\r\nconst chatInput = props => {\r\n  const input = React.createRef()\r\n  const body = React.createRef()\r\n\r\n  const changeHeight = (e) => {\r\n    body.current.style.height = body.current.scrollHeight + 1 + 'px'\r\n  }\r\n  const showForm = () => {\r\n    body.current.style.display = \"flex\"\r\n  }\r\n\r\n  return (\r\n    <form autoComplete=\"off\" onSubmit={props.sendPost} className={classes.msgInput + \" mt-2 row no-gutters\"}>\r\n      <div className=\"col-12\">\r\n        <h5> + Add new post</h5>\r\n      </div>\r\n      <div className=\"col-md-11 col-10\">\r\n        <input id=\"newPostTitle\" ref={input}\r\n          onFocus={showForm}\r\n          rows=\"1\"\r\n          type=\"text\" onChange={props.titleChanged}\r\n          value={props.title} placeholder=\"Write a post\" />\r\n        <textarea id=\"newPostBody\" ref={body}\r\n          onInput={changeHeight}\r\n          style={{ display: \"none\" }}\r\n          rows=\"1\"\r\n          type=\"text\" onChange={props.bodyChanged}\r\n          value={props.body} placeholder=\"Post body....\" />\r\n      </div>\r\n      <div className=\"col-md-1 col-2 pb-1  d-flex align-items-center\" style={{ alignSelf: \"flex-start\" }}>\r\n        <button className=\"w-100 p-0 d-flex align-items-center\" style={{\r\n          border: 0,\r\n          outline: 0,\r\n          background: 'none'\r\n        }}>\r\n          <i className=\"material-icons h-100 mx-auto\" style={{\r\n            fontSize: '2.5rem',\r\n            lineHeight: '1',\r\n            color: 'orangered'\r\n          }}>send</i>\r\n        </button>\r\n      </div>\r\n\r\n      {props.src ? <div className={classes.media + \" col-12 d-flex mt-3 justify-content-around\"}>\r\n        {props.type === 'video' ? <video src={props.src} autoPlay loop> </video> : props.type === 'images' ? <img src={props.src} alt=\"\" /> : null}\r\n      </div> : null}\r\n      <div className=\"col-12 d-flex mt-3 justify-content-around\">\r\n        <button type=\"button\" onClick={() => (\r\n          props.upload('images')\r\n        )} className={classes.btn}>\r\n          <i className=\"material-icons text-success pr-2\">photo</i>\r\n          Photo\r\n          </button>\r\n        <button type=\"button\" onClick={() => (\r\n          props.upload('video')\r\n        )} className={classes.btn}>\r\n          <i className=\"material-icons text-danger pr-2\">videocam</i>\r\n          Video</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default chatInput","import React, { Component } from \"react\";\r\nimport classes from \"./Timeline.css\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport firebase from \"../../../firebase\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\nimport Spinner from \"../../../component/UI/Spinner/Spinner\";\r\nimport Friends from \"../../../component/Friends/Friends\";\r\nimport Request from \"../../../component/Friends/Request\";\r\nimport Alert from \"../../../component/UI/Alert/Alert\";\r\nimport Post from '../../../component/Posts/Posts';\r\nimport NewPost from '../../../component/Forms/NewPost/NewPost';\r\nimport play from '../../../component/Audio/Audio'\r\n\r\nclass Timeline extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.progBar = React.createRef()\r\n  }\r\n  state = {\r\n    profileData: {\r\n      username: \"\",\r\n      coverPhoto: \"\",\r\n      uid: null\r\n    },\r\n\r\n    isUser: false,\r\n    loading: false,\r\n    profile: \"\",\r\n    errorMessage: null,\r\n    changeStyle: false,\r\n    showPostForm: true,\r\n    modalMessage: null,\r\n    postTitle: \"\",\r\n    postBody: \"\",\r\n    type: null,\r\n    src: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.load(this.props.profile);\r\n    let theme = localStorage.getItem('skychatTheme');\r\n    var metaThemeColor = document.querySelector(\"meta[name=theme-color]\");\r\n    if (theme === 'dark') {\r\n      metaThemeColor.setAttribute(\"content\", ' #171e25');\r\n    }\r\n    else if (theme === 'light') {\r\n      metaThemeColor.setAttribute(\"content\", ' #fff');\r\n    }\r\n\r\n\r\n  }\r\n  titleChanged = e => {\r\n    this.setState({\r\n      postTitle: e.target.value\r\n    })\r\n  }\r\n  bodyChanged = e => {\r\n    this.setState({\r\n      postBody: e.target.value\r\n    })\r\n  }\r\n\r\n  componentDidUpdate() {\r\n\r\n    if (this.props.match.params.profile !== this.state.profile) {\r\n      this.setState({ profile: this.props.match.params.profile });\r\n      this.load(this.props.match.params.profile);\r\n    }\r\n  }\r\n  sendPost = e => {\r\n    this.setState({ play: null })\r\n    e.preventDefault();\r\n    var Post = {\r\n      title: this.state.postTitle,\r\n      icon: this.state.profileData.profilePicture,\r\n      username: this.state.profileData.username,\r\n      body: this.state.postBody.split(\"\\n\").join(\"<br/>\"),\r\n      type: this.state.type,\r\n      src: this.state.src,\r\n      storageRef: \"/\" + this.props.userData.username.toLowerCase() + \"/\" + this.state.type + '/' + this.state.sref,\r\n      date: Date.now(),\r\n      uid: this.state.profileData.uid\r\n    }\r\n    if (Post.title || Post.body || Post.src) {\r\n\r\n      firebase.database().ref('posts/')\r\n        .push(Post).then(res => {\r\n          this.setState({ src: null, type: null })\r\n          play('success')\r\n        })\r\n      this.setState({ postBody: '', postTitle: \"\" })\r\n    } else {\r\n      this.setState({ error: \"Type something or pick an image/video to post\" })\r\n    }\r\n  }\r\n\r\n  upload = (types) => {\r\n    // File or Blob named mountains.jpg\r\n\r\n    this.setState({ showPostForm: false, error: null })\r\n    var files = document.createElement('input')\r\n    files.type = 'file'\r\n    if (types === 'images') {\r\n      files.setAttribute('accept', 'image/*')\r\n    } else {\r\n      files.setAttribute('accept', 'video/*')\r\n    }\r\n    files.click()\r\n    files.onchange = e => {\r\n      const storageRef = firebase.storage().ref('/' + this.props.userData.username.toLowerCase())\r\n\r\n      const file = files.files[0];\r\n      if (file.size > 10000000) {\r\n        this.setState({ showPostForm: true, error: \"File too large \\n Maximum size is 10mb\" })\r\n      } else {\r\n        const uploadTask = storageRef.child(types + \"/\" + file.name).put(file);\r\n        uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, (snapshot) => {\r\n          this.setState({ showPostForm: false })\r\n          var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n          var progressMessage = 'Upload is ' + Math.floor(progress) + '% Done. (' + (snapshot.totalBytes / 1000000).toFixed(2) + ' mb) '\r\n          this.setState({ progressMessage: progressMessage })\r\n          this.progBar.current.style.width = progress + '%'\r\n          switch (snapshot.state) {\r\n            case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n              console.log('Upload is paused');\r\n              this.setState({ progressMessage: 'Upload is paused' })\r\n\r\n              break;\r\n            case firebase.storage.TaskState.RUNNING: // or 'running'\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }, (error) => {\r\n          this.setState({ showPostForm: true })\r\n\r\n          switch (error.code) {\r\n            case 'storage/unauthorized':\r\n              // User doesn't have permission to access the object\r\n              this.setState({\r\n                error: \"You don't have permission to access the object\"\r\n              })\r\n              break;\r\n            case 'storage/canceled':\r\n              this.setState({ error: \"Upload canceled\" })\r\n              break;\r\n            case 'storage/unknown':\r\n              this.setState({ error: \"Unknown error occurred\" })\r\n              // Unknown error occurred, inspect error.serverResponse\r\n              break;\r\n            default:\r\n              this.setState({ error: \"Unknown error occurred\" })\r\n              break;\r\n          }\r\n        }, () => {\r\n          this.setState({ showPostForm: false, progressMessage: null })\r\n          if (types === 'images') {\r\n\r\n            var starsRef = uploadTask.snapshot.ref;\r\n\r\n            // Get the download URL\r\n            starsRef.getDownloadURL().then((URL) => {\r\n              const url = URL.replace(file.name, file.name.split('.').join('_1024x1024.'))\r\n              console.log(url);\r\n              // Insert url into an <img> tag to \"download\"\r\n              setTimeout(() => {\r\n                this.setState({ showPostForm: true, type: types, progressMessage: null, src: url, sref: file.name.split('.').join('_1024x1024.') })\r\n              }, 2000)\r\n            })\r\n          } else {\r\n            uploadTask.snapshot.ref.getDownloadURL().then(url => {\r\n              this.setState({ showPostForm: true, type: types, progressMessage: null, src: url, sref: file.name })\r\n            })\r\n          }\r\n\r\n\r\n\r\n        });\r\n      }\r\n\r\n\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  load = uid => {\r\n\r\n    document.documentElement.scrollTop = 0;\r\n\r\n    this.setState({ loading: true });\r\n    var userExist = false;\r\n    var ref = firebase.database().ref(\"users/\");\r\n    if (uid) {\r\n      ref.child(uid).on('value', s => {\r\n        const profiledata = {\r\n          ...this.state.profileData\r\n        };\r\n\r\n        for (let key in s.val()) {\r\n          profiledata[key] = s.val()[key];\r\n          profiledata.uid = uid;\r\n        }\r\n\r\n        this.setState({\r\n          profileData: profiledata\r\n        });\r\n        setTimeout(cur => {\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        }, 1000)\r\n        if (profiledata.username) {\r\n\r\n          userExist = true;\r\n        }\r\n        if (profiledata.username === this.props.userData.username) {\r\n          this.setState({\r\n            isUser: true\r\n          });\r\n        } else {\r\n          this.setState({\r\n            isUser: false\r\n          });\r\n        }\r\n\r\n        if (!userExist) {\r\n          this.setState({\r\n            errorMessage: (\r\n              <span>\r\n                User <strong className=\"text-capitalize\">{profiledata.username}</strong> not\r\n                found\r\n              </span>\r\n            )\r\n          });\r\n        }\r\n\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {this.state.errorMessage ? (\r\n          <Alert type=\"danger\" show={true}>\r\n            {this.state.errorMessage}{\" \"}\r\n          </Alert>\r\n        ) : null}\r\n        <div className=\"container \">\r\n          <div className=\"row \">\r\n            <div className=\"col-md-8 col-lg-7 p-0 order-md-2 px-lg-3\">\r\n              <div className=\"row no-gutters bg-white\">\r\n                <div className={classes.cover + \" col \"}>\r\n                  <img src={this.state.profileData.coverPhoto} alt=\"\" />\r\n                  <div className={classes.dp}>\r\n                    <img src={this.state.profileData.profilePicture} alt=\"\" />\r\n                  </div>\r\n                  {this.state.loading ? (\r\n                    <Spinner style={{ background: \"var(--secondary)\" }} />\r\n                  ) : (\r\n                      <h3 className={classes.username}>\r\n                        {!this.state.isUser ? (\r\n                          this.state.profileData.username\r\n                        ) : (\r\n                            <span>\r\n                              {this.state.profileData.username} <small>(You)</small>\r\n                            </span>\r\n                          )}\r\n                      </h3>\r\n                    )}\r\n\r\n                </div>\r\n              </div>\r\n              {this.state.isUser ? <div className=\"bg-white  text-center\"> <Link to=\"/edit-profile\" className=\"btn  btn-outline-dark rounded-pill px-5 mx-auto btn-sm\" >Edit profile</Link></div> : null}\r\n              <Friends {...this.state.profileData} />\r\n              {this.state.isUser ?\r\n                <Request hideAll={true} userData={this.props.userData} /> : null}\r\n\r\n              {this.state.isUser ? this.state.progressMessage ? null : !this.state.showPostForm ? <div style={{ height: '10rem' }} className=\"bg-white\"> <Spinner fontSize=\"8px\" /> </div> : <NewPost\r\n                titleChanged={this.titleChanged}\r\n                bodyChanged={this.bodyChanged}\r\n                title={this.state.postTitle}\r\n                upload={this.upload}\r\n\r\n                src={this.state.src}\r\n                type={this.state.type}\r\n                body={this.state.postBody}\r\n                sendPost={this.sendPost}\r\n              /> : null}\r\n              {this.state.error ? (\r\n                <Alert type=\"warning\" show={true}>\r\n                  {this.state.error}\r\n                </Alert>\r\n              ) : null}\r\n              {this.state.progressMessage ? <div className={'row no-gutters pb-4 px-4 mb-2 bg-white'}>\r\n                <h4 className=\"h5 font-weight-bold\">{this.state.progressMessage}</h4>\r\n                <div className={classes.progressBar}>\r\n                  <span ref={this.progBar} ></span>\r\n                </div>\r\n              </div> : null}\r\n              {this.state.profileData.uid ?\r\n                <Post uid={this.state.profileData.uid} likeeId={this.props.userData.uid} /> : null}\r\n\r\n            </div>\r\n\r\n            <div className=\"col-md-4 col-lg-2 order-md-1 bg-white \">\r\n              <div className=\"row no-gutters\">\r\n                <div className={\" col \"}></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-3 order-md-3 bg-white \">\r\n              <div className=\"row no-gutters\">\r\n                <div className={\" col \"}></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Timeline);\r\n","import React, { Component } from 'react';\r\nimport Request from '../Friends/Request'\r\nimport Logo from '../../assets/Image/logo/logo_red.png'\r\nimport { Link } from 'react-router-dom';\r\nimport classes from './notify.css'\r\n\r\n\r\nexport default class Notify extends Component {\r\n    state = {\r\n        nots: [{\r\n            icon: Logo,\r\n            title: \"Welcome to Skychat by king hoddy\",\r\n            description: \"Created by odunmilade\",\r\n            button: null,\r\n            link: \"\",\r\n            seen: false\r\n        }]\r\n    }\r\n\r\n    componentDidMount() {\r\n        var metaThemeColor = document.querySelector(\"meta[name=theme-color]\");\r\n        metaThemeColor.setAttribute(\"content\", '#f32');\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Request hideAll={true} userData={this.props.userData} />\r\n                {this.state.nots.map(cur => {\r\n                    return (\r\n                        <Link\r\n                            to={\"/messages/\" + cur.link}\r\n                            className={\r\n                                classes.nots +\r\n\r\n                                \" px-3 py-2 text-capitalize  border-bottom d-flex align-items-center\" + (cur.seen ? ' bg-dark ' : \" bg-dark \")\r\n                            }\r\n                            key={cur.link}\r\n                        >\r\n                            <div className={classes.picture}>\r\n                                <img src={cur.icon} alt=\"chat Icon\" />\r\n                            </div>\r\n                            <div style={{ minWidth: \"11rem\" }} className=\"ml-3 text-dark  \">\r\n                                <h3 className=\" font-weight-bold h5 m-0\">\r\n                                    {cur.title\r\n                                        ? cur.title\r\n                                            .split(\"<br/>\")\r\n                                            .join(\" \")\r\n                                            .substring(0, 20) +\r\n                                        (Array.from(cur.title).length > 20 ? \"...\" : \"\")\r\n                                        : null}\r\n                                </h3>\r\n                                <p className=\"m-0\">\r\n                                    {cur.description\r\n                                        ? cur.description\r\n                                            .split(\"<br/>\")\r\n                                            .join(\" \")\r\n                                            .substring(0, 21) +\r\n                                        (Array.from(cur.description).length > 21 ? \" ...\" : \"\")\r\n                                        : null}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"text-right ml-auto\">\r\n                                <h6 style={{ color: \"#888\" }}>{cur.time}</h6>\r\n\r\n                            </div>\r\n                        </Link>\r\n\r\n                    )\r\n                })}\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport classes from './display.css'\r\nconst Display = props => {\r\n    const light = `:root { --blue: #007bff; --indigo: #6610f2; --purple: #6f42c1; --pink: #e83e8c; --red: #dc3545; --orange: #fd7e14; --yellow: #ffc107; --green: #28a745; --teal: #20c997; --cyan: #17a2b8; --white: #fff; --gray: #eee; --black: #000; --gray-dark: #777; --primary: #007bff; --secondary: #ddd; --success: #28a745; --info: #17a2b8; --warning: #ffc107; --danger: #dc3545; --light: #f9f9f9; --dark: #343a40; --breakpoint-xs: 0; --breakpoint-sm: 576px; --breakpoint-md: 768px; --breakpoint-lg: 992px; --breakpoint-xl: 1200px; --font-family-sans-serif: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; }`;\r\n    const dark = `:root { --blue: #007bff; --indigo: #6610f2; --purple: #6f42c1; --pink: #e83e8c; --red: #fbeaec; --orange: #fd7e14; --yellow: #ffc107; --green: #28a745; --teal: #20c997; --cyan: #17a2b8; --white: #171e25; --gray: #101010; --gray-dark: #aaa; --primary: #007bff; --secondary: #777; --success: #28a745; --info: #17a2b8; --warning: #ffc107; --danger: #dc3545; --light: #11161b; --dark: #f7f7f7; --black: #fff; --breakpoint-xs: 0; --breakpoint-sm: 576px; --breakpoint-md: 768px; --breakpoint-lg: 992px; --breakpoint-xl: 1200px; --font-family-sans-serif: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; }`;\r\n\r\n    let theme = localStorage.getItem('skychatTheme');\r\n    let domeTheme = light\r\n    if (theme === null) {\r\n        localStorage.setItem('skychatTheme', 'light')\r\n    } else if (theme === 'dark') {\r\n        domeTheme = dark\r\n    }\r\n    console.log(theme);\r\n    const style = document.getElementById('style')\r\n    style.innerHTML = domeTheme\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"bg-white p-4\">\r\n            <h4>Theme</h4>\r\n            <div className=\"d-flex\">\r\n\r\n                <div onClick={() => {\r\n                    localStorage.setItem('skychatTheme', 'light')\r\n                    style.innerHTML = light\r\n                }} className={classes.theme}></div>\r\n                <div onClick={() => {\r\n                    localStorage.setItem('skychatTheme', 'dark')\r\n                    style.innerHTML = dark\r\n                }\r\n                } className={classes.theme + ' mx-3'}></div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Display","import React, { Component } from \"react\";\r\nimport firebase from \"../../firebase\";\r\nimport \"firebase/auth\";\r\nimport Spinner from \"../../component/UI/Spinner/Spinner\";\r\nimport { Link, Redirect, Route } from \"react-router-dom\";\r\nimport classes from \"./Menu.css\";\r\n\r\nimport Friends from \"../../component/Friends/Friends\";\r\nimport Requests from \"../../component/Friends/Request\";\r\nimport Display from '../../component/Display/Display'\r\n\r\nclass Menu extends Component {\r\n  state = {\r\n    loading: false,\r\n    shouldLogout: false,\r\n    userData: {\r\n      profilePicture: \"\",\r\n      username: \"\",\r\n      uid: \"\"\r\n    }\r\n  };\r\n  componentDidMount() {\r\n    firebase.auth().onAuthStateChanged(user => {\r\n      this.setState({ loading: true });\r\n      if (user) {\r\n        const userdata = {\r\n          ...this.state.userData\r\n        };\r\n        userdata.profilePicture = user.photoURL;\r\n        userdata.uid = user.uid;\r\n        userdata.username = user.displayName.toLowerCase();\r\n        document.title =\r\n          user.displayName +\r\n          \" Skychat | Menu\" +\r\n          this.setState({\r\n            loading: false,\r\n            shouldLogout: false,\r\n            userData: userdata\r\n          });\r\n      } else {\r\n        this.setState({ shouldLogout: true, loading: false });\r\n      }\r\n    });\r\n\r\n  }\r\n  logOutHandler = () => {\r\n    this.setState({ loading: true });\r\n    firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(() => {\r\n        this.setState({ loading: false, shouldLogout: true });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ loading: false });\r\n        console.log(error);\r\n        // An error happened.\r\n      });\r\n  };\r\n  render() {\r\n    var menu = (\r\n      <React.Fragment>\r\n        <Link to=\"/edit-profile\" className={classes.MenuLink + \" row no-gutters\"}>\r\n          <div className=\"col-2 col-md-1 text-success\">\r\n            <i className=\"material-icons\">edit</i>\r\n          </div>\r\n          <div className=\"col d-flex justify-content-between align-items-center\">\r\n            Edit profile\r\n            <img\r\n              src={this.state.userData.profilePicture}\r\n              className=\" rounded-circle\"\r\n              alt=\"\"\r\n\r\n            />\r\n          </div>\r\n        </Link>\r\n        <Link\r\n          to=\"/menu/friends\"\r\n          className={classes.MenuLink + \" row no-gutters\"}\r\n        >\r\n          <div className=\"col-2 col-md-1 text-primary\">\r\n            <i className=\"material-icons\">people</i>\r\n          </div>\r\n          <div className=\"col\">Friends</div>\r\n        </Link>\r\n        <Link\r\n          to=\"menu/display-settings\"\r\n          className={classes.MenuLink + \" row no-gutters\"}>\r\n          <div className=\"col-2 col-md-1 text-warning\">\r\n            <i className=\"material-icons\">brightness_medium</i>\r\n          </div>\r\n          Display\r\n      </Link>\r\n        <Link\r\n          to=\"/\"\r\n          className={classes.MenuLink + \" row no-gutters\"}>\r\n          <div className=\"col-2 col-md-1 text-info\">\r\n            <i className=\"material-icons\">help</i>\r\n          </div>\r\n          Help amd feedback\r\n      </Link>\r\n        <Link\r\n          to=\"/login\"\r\n          onClick={this.logOutHandler}\r\n          className={classes.MenuLink + \" row no-gutters\"}\r\n        >\r\n          <div className=\"col-2 col-md-1 text-danger\">\r\n            <i className=\"fa fa-door-open\"></i>\r\n          </div>\r\n          Log out\r\n        </Link>\r\n      </React.Fragment>\r\n    );\r\n    if (this.state.shouldLogout) {\r\n      menu = <Redirect to=\"/login?menu\" />;\r\n    }\r\n    return this.state.loading ? (\r\n      <Spinner />\r\n    ) : (\r\n        <div className=\"row no-gutters justify-content-center\">\r\n          <div className=\"col-lg-6 py-lg-4\">\r\n            <Route\r\n              exact\r\n              path=\"/menu\"\r\n              render={() => <React.Fragment>{menu}</React.Fragment>}\r\n            />\r\n\r\n            <Route\r\n              exact\r\n              path=\"/menu/display-settings\"\r\n              render={() => (\r\n                <React.Fragment>\r\n                  <Display />\r\n                </React.Fragment>\r\n              )}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/menu/friends\"\r\n              render={() => (\r\n                <React.Fragment>\r\n                  <Friends uid={this.state.userData.uid} />\r\n                  <Requests userData={this.state.userData} />\r\n                </React.Fragment>\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\nexport default Menu;\r\n","import React, { Component } from 'react';\r\nimport classes from './feed.css';\r\nimport firebase from '../../firebase';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'firebase/auth';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport Toast from '../UI/Toast/Toast'\r\nimport Post from '../Posts/Post/Post';\r\nimport play from '../Audio/Audio'\r\n\r\nclass Feed extends Component {\r\n    state = {\r\n        loading: false,\r\n        userData: {},\r\n        posts: []\r\n\r\n    }\r\n    componentDidMount() {\r\n        const user = firebase.auth().currentUser\r\n        this.setState({ loading: true });\r\n        if (user) {\r\n            let hasUsed = localStorage.getItem('hasUsedSkychat');\r\n            if (hasUsed === null) {\r\n                localStorage.setItem('hasUsedSkychat', true)\r\n            }\r\n            const userdata = {\r\n                ...this.state.userData\r\n            };\r\n            userdata.profilePicture = user.photoURL;\r\n            userdata.uid = user.uid;\r\n            userdata.username = user.displayName.toLowerCase();\r\n\r\n            this.setState({\r\n                loading: false,\r\n                shouldLogout: false,\r\n                userData: userdata\r\n            });\r\n        } else {\r\n            this.setState({ shouldLogout: true, loading: false });\r\n        }\r\n        document.title = \"News feed | Skychat\";\r\n\r\n\r\n        let theme = localStorage.getItem('skychatTheme');\r\n        var metaThemeColor = document.querySelector(\"meta[name=theme-color]\");\r\n        if (theme === 'dark') {\r\n            metaThemeColor.setAttribute(\"content\", ' #171e25');\r\n        }\r\n        else if (theme === 'light') {\r\n            metaThemeColor.setAttribute(\"content\", ' #fff');\r\n        }\r\n\r\n        if (this.props.uid) {\r\n\r\n            this.getPosts()\r\n        }\r\n\r\n    }\r\n    deletePost = (id, src) => {\r\n        if (src) {\r\n            var desertRef = firebase.storage().ref(src);\r\n            desertRef.delete()\r\n            firebase.database().ref('posts/' + id).set(null)\r\n        } else {\r\n            firebase.database().ref('posts/' + id).set(null)\r\n        }\r\n    }\r\n    getPosts = () => {\r\n        document.documentElement.scrollTop = 0;\r\n\r\n        this.setState({ loading: true })\r\n        const ref = firebase.database().ref('users/')\r\n        ref.child(this.props.uid).on('value', s => {\r\n\r\n            let friendsId = s.val()['friendsId']\r\n            let friendsArr = [this.props.uid]\r\n            for (let key in friendsId) {\r\n                friendsArr.push(friendsId[key])\r\n            }\r\n\r\n            const feedRef = firebase.database().ref('posts/')\r\n            feedRef.on('value', snap => {\r\n                const Posts = []\r\n                for (let key in snap.val()) {\r\n\r\n                    friendsArr.forEach(cur => {\r\n                        if (snap.val()[key].uid === cur) {\r\n\r\n                            const post = {\r\n                                title: snap.val()[key].title,\r\n                                body: snap.val()[key].body,\r\n                                id: key,\r\n                                icon: snap.val()[key].icon,\r\n                                username: snap.val()[key].username,\r\n                                date: snap.val()[key].date,\r\n                                type: snap.val()[key].type,\r\n                                liked: false,\r\n                                uid: snap.val()[key].uid,\r\n                                storageRef: snap.val()[key].storageRef,\r\n                                likes: snap.val()[key].likes,\r\n                                src: snap.val()[key].src,\r\n                            }\r\n\r\n                            ref.child(snap.val()[key].uid).once('value', sn => {\r\n                                post.icon = sn.val().profilePicture\r\n                                post.username = sn.val().username\r\n                            })\r\n                            if (snap.val()[key].uid === this.props.uid) {\r\n                                post.isMine = true\r\n                            }\r\n                            if (snap.val()[key].comments) {\r\n                                const com = []\r\n                                for (let keys in snap.val()[key].comments) {\r\n                                    com.push(snap.val()[key].comments[keys])\r\n                                }\r\n                                post.comments = com.reverse()\r\n                            }\r\n\r\n                            if (post.likes) {\r\n                                if (post.likes[this.props.uid]) {\r\n                                    post.liked = true\r\n                                }\r\n                            }\r\n                            Posts.push(post)\r\n                        }\r\n                    })\r\n\r\n                }\r\n                // setTimeout(() => {\r\n                this.setState({ posts: Posts.reverse(), loading: false })\r\n                // }, 2000)\r\n\r\n\r\n            })\r\n        })\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.state.shouldLogout) {\r\n            this.props.history.push('/login?feed')\r\n        }\r\n    }\r\n    postComment = (e, text, id) => {\r\n        e.preventDefault()\r\n        console.log('post', text, id);\r\n        firebase.database().ref('users/' + this.props.uid).once('value', s => {\r\n            const comment = {\r\n                username: s.val().username,\r\n                profilePicture: s.val().profilePicture,\r\n                uid: this.props.uid,\r\n                date: Date.now(),\r\n                comment: text\r\n            }\r\n            firebase.database().ref('posts/' + id + \"/comments\").push(comment).then(() => {\r\n                play('success')\r\n            })\r\n        })\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <div className={classes.wrapper + \" pt-2 mx-auto\"}>\r\n                {this.state.toast ? <Toast message={this.setState.toast} /> : null}\r\n\r\n\r\n                {this.state.loading ? <div style={{ height: '79vh', marginBottom: \"3rem\" }}><Spinner style={{ background: 'var(--gray)' }} /> <p className={classes.brand}>skychat by odunmilade</p></div> : this.state.posts.map(cur => (\r\n\r\n                    <Post\r\n\r\n                        {...cur}\r\n                        postComment={(e, val) => { this.postComment(e, val, cur.id) }}\r\n                        key={cur.id}\r\n                        deletePost={() => { this.deletePost(cur.id, cur.storageRef) }}\r\n                        likeeId={this.props.uid}\r\n                    />\r\n                ))}\r\n                <p className=\"text-center\">No more posts </p>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Feed)","import React, { Component } from 'react'\r\nimport classes from './Profile.css';\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport Toolbar from '../../component/Navigation/Toolbar/Toolbar';\r\nimport Alert from '../../component/UI/Alert/Alert';\r\nimport Timeline from './Timeline/Timeline';\r\nimport Notify from '../../component/Notify/Notify';\r\nimport Spinner from '../../component/UI/Spinner/Spinner';\r\nimport Menu from '../Menu/Menu';\r\nimport Feed from '../../component/feed/feed'\r\n\r\n\r\nimport firebase from '../../firebase';\r\nimport 'firebase/auth'\r\n\r\n\r\nclass Profile extends Component {\r\n    state = {\r\n        userData: {\r\n            username: '',\r\n        },\r\n\r\n        isUser: false,\r\n        loading: false,\r\n        errorMessage: null,\r\n        modalMessage: null\r\n    }\r\n    componentDidMount() {\r\n\r\n        this.loadUserdata()\r\n    }\r\n    loadUserdata = () => {\r\n        this.setState({ loading: true })\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n                const updatedUd = {\r\n                    username: user.displayName.toLowerCase(),\r\n                    email: user.email,\r\n                    profilePicture: user.photoURL,\r\n                    uid: user.uid\r\n                }\r\n                // fetch the profile data\r\n                const userdata = {\r\n                    ...this.state.userdata\r\n                }\r\n                for (let keys in updatedUd) {\r\n                    userdata[keys] = updatedUd[keys]\r\n                }\r\n                this.setState({\r\n                    userData: userdata, loading: false\r\n                })\r\n            } else {\r\n                this.setState({ errorMessage: 'You are not logged in', loading: false })\r\n                setTimeout(() => {\r\n                    this.setState({ errorMessage: null })\r\n                }, 1500)\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div className={classes.Profile}>\r\n                <Toolbar profile={this.props.match.params.profile} />\r\n\r\n\r\n                {this.state.loading ?\r\n                    <div style={{ height: '80vh' }}><Spinner style={{ background: 'var(--gray)' }} /> <p className={classes.brand}>skychat by odunmilade</p></div> : <React.Fragment>\r\n                        {this.state.errorMessage ? <Alert type=\"danger\" show={true}>{this.state.errorMessage}</Alert> : ''}\r\n\r\n                        <Switch>\r\n                            <Route path='/notifications' exact render={() => (\r\n                                <Notify {...this.state} />)} />\r\n                            <Route path='/feed' render={() => (<Feed {...this.state.userData} />)} />\r\n                            <Route path='/menu' render={() => (<Menu {...this.props} />)} />\r\n                            <Route path='/:profile' exact render={() => (<Timeline {...this.state} />)} />\r\n                        </Switch>\r\n                    </React.Fragment>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Profile\r\n\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nimport firebase from \"../../../firebase\";\r\n\r\nimport google from \"../../../assets/Image/google.png\";\r\n\r\nimport classes from \"./Login.css\";\r\nimport Input from \"../../UI/Input/Input\";\r\nimport Spinner from \"../../UI/Spinner/Spinner\";\r\nimport Toast from \"../../UI/Toast/Toast\";\r\nimport Alert from \"../../UI/Alert/Alert\";\r\nimport cover from \"../../../assets/Image/avatar_square.png\";\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    form: {\r\n      email: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"email\",\r\n          placeholder: \"Email Address\",\r\n          required: true\r\n        },\r\n        value: \"\",\r\n        id: \"email\",\r\n        label: \"Email address\"\r\n      },\r\n      password: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          required: true,\r\n          type: \"password\",\r\n          minLength: 6,\r\n          placeholder: \"Your password\"\r\n        },\r\n        value: \"\",\r\n        label: \"Your password\",\r\n        id: \"password\"\r\n      }\r\n    },\r\n    errorMessage: null,\r\n    sMessage: \"Please Wait ! ! !\",\r\n    loading: false,\r\n    userExist: null,\r\n    shouldLogin: false,\r\n    toast: null\r\n  };\r\n  inputChanged = (e, id) => {\r\n    const updatedForm = {\r\n      ...this.state.form\r\n    };\r\n    const updatedFormEl = { ...updatedForm[id] };\r\n    updatedFormEl.value = e.target.value;\r\n    updatedForm[id] = updatedFormEl;\r\n    this.setState({ form: updatedForm });\r\n  };\r\n  googleLogin = () => {\r\n    var provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n    this.setState({ loading: true, sMessage: \"Checking info\" });\r\n\r\n    firebase.auth().signInWithRedirect(provider).then(function () {\r\n      return firebase.auth().getRedirectResult();\r\n    }).then((result) => {\r\n      // This gives you a Google \r\n      var user = result.user;\r\n      if (result.additionalUserInfo.isNewUser === true) {\r\n        this.setState({ toast: \"Finish setting up your skymail account\" });\r\n        this.saveUser(user);\r\n      } else {\r\n        this.fetchUser(user);\r\n      }\r\n      // ...\r\n    }).catch((error) => {\r\n      var errorMessage = error.message;\r\n      this.setState({\r\n        errorMessage: (\r\n          <span>\r\n            <strong>Failed </strong>\r\n            {errorMessage}\r\n          </span>\r\n        ),\r\n        loading: false\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    document.title = \"Login | Skychat\";\r\n    firebase.auth().getRedirectResult().then((result) => {\r\n      if (result.credential) {\r\n        // This gives you a Google Access Token.\r\n        // You can use it to access the Google API.\r\n        // The signed-in user info.\r\n        var user = result.user;\r\n        if (result.additionalUserInfo.isNewUser === true) {\r\n          this.setState({ toast: \"Finish setting up your skymail account\" });\r\n          this.saveUser(user);\r\n        } else {\r\n          this.fetchUser(user);\r\n        }\r\n        // ...\r\n      }\r\n    }).catch((error) => {\r\n      // Handle Errors here.\r\n      var errorCode = error.code;\r\n      var errorMessage = error.message;\r\n    });\r\n  }\r\n  fetchUser = user => {\r\n    var uid;\r\n    if (user != null) {\r\n      uid = user.uid;\r\n      this.setState({ loading: false, errorMessage: null, shouldLogin: true });\r\n    } else {\r\n      var errorMessage = <strong>Failed</strong>;\r\n      this.setState({ loading: false, errorMessage: errorMessage });\r\n    }\r\n    if (this.state.shouldLogin) {\r\n      var search = this.props.location.search;\r\n      if (search) {\r\n        this.props.history.push(\"/\" + search.substr(1));\r\n      } else {\r\n        this.props.history.push(\"/\" + uid);\r\n      }\r\n    }\r\n  };\r\n\r\n  saveUser = user => {\r\n    var ref = firebase.database().ref(\"users/\");\r\n    const id = user.uid;\r\n\r\n    this.setState({ loading: true, sMessage: \"Completing Signup  !\" });\r\n    ref\r\n      .child(id)\r\n      .set({\r\n        username: user.displayName.toLowerCase(),\r\n        coverPhoto: cover,\r\n        profilePicture: user.photoURL\r\n      })\r\n      .then(() => {\r\n        this.setState({ loading: false, errorMessage: null });\r\n        console.log(\"success\");\r\n        this.props.history.push(id);\r\n      })\r\n      .catch(() => {\r\n        this.setState({\r\n          loading: false,\r\n          errorMessage: \"Failed to save user to database\"\r\n        });\r\n      });\r\n  };\r\n\r\n  signInHandler = event => {\r\n    event.preventDefault();\r\n    this.setState({ loading: true });\r\n    const formData = {};\r\n    for (let formId in this.state.form) {\r\n      formData[formId] = this.state.form[formId].value;\r\n    }\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(formData.email, formData.password)\r\n      .then(res => {\r\n        // User is signed in.\r\n        var user = res.user;\r\n        this.fetchUser(user);\r\n      })\r\n      .catch(error => {\r\n        // Handle Errors here.\r\n        var errorMessage = error.message;\r\n        this.setState({ loading: false, errorMessage: errorMessage });\r\n        // ...\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const formElementArray = [];\r\n    for (let key in this.state.form) {\r\n      formElementArray.push({\r\n        id: key,\r\n        config: this.state.form[key]\r\n      });\r\n    }\r\n    return this.state.loading ? (\r\n      <Spinner message={this.state.sMessage} />\r\n    ) : (\r\n        <form onSubmit={this.signInHandler}>\r\n          {this.state.errorMessage ? (\r\n            <Alert type=\"warning\" show={true}>\r\n              {this.state.errorMessage}\r\n            </Alert>\r\n          ) : null}\r\n          {this.state.toast ? <Toast>{this.state.toast}</Toast> : null}\r\n\r\n          {formElementArray.map(el => (\r\n            <Input\r\n              elementType={el.config.elementType}\r\n              elementConfig={el.config.elementConfig}\r\n              value={el.config.value}\r\n              id={el.id}\r\n              key={el.config.id}\r\n              label={el.config.label}\r\n              changed={e => {\r\n                this.inputChanged(e, el.id);\r\n              }}\r\n            />\r\n          ))}\r\n\r\n          <button\r\n            className={\r\n              classes.btnLogin +\r\n              \" btn wow fadeInUp btn-lg btn-block  text-uppercase font-weight-bold mb-2\"\r\n            }\r\n            type=\"submit\"\r\n          >\r\n            Sign in\r\n        </button>\r\n          <p className=\"text-center text-primary\"> Or</p>\r\n          <button\r\n            className={classes.googleBtn + \" wow fadeInUp btn btn-lg btn-block  mb-2\"}\r\n            type=\"button\"\r\n            onClick={this.googleLogin}\r\n          >\r\n            <img\r\n              src={google}\r\n              alt=\" \"\r\n              style={{ width: \"2rem\" }}\r\n              className=\"mr-4\"\r\n            />\r\n          Sign up with google\r\n        </button>\r\n          <div className=\"text-center wow fadeIn\">\r\n            <Link className=\"small\" to=\"./home\">\r\n              Forgot password?\r\n          </Link>{\" \"}\r\n            <br />\r\n            <Link className=\"small\" to=\"/SignUp\">\r\n              Create new account\r\n          </Link>\r\n          </div>\r\n        </form>\r\n      );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from \"react\";\r\nimport { Link, Redirect, withRouter } from \"react-router-dom\";\r\nimport Alert from \"../../UI/Alert/Alert\";\r\n\r\nimport firebase from \"../../../firebase\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\n\r\nimport classes from \"./SignUp.css\";\r\nimport Input from \"../../UI/Input/Input\";\r\nimport google from \"../../../assets/Image/google.png\";\r\nimport Spinner from \"../../UI/Spinner/Spinner\";\r\nimport Picture from \"../../../assets/Image/avatar-red.png\";\r\nimport cover from \"../../../assets/Image/avatar_square.png\";\r\n\r\nclass Signin extends Component {\r\n  state = {\r\n    form: {\r\n      username: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Username\",\r\n          required: true\r\n        },\r\n        value: \"\",\r\n        id: \"usernme\",\r\n        label: \"Username\"\r\n      },\r\n      email: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"email\",\r\n          placeholder: \"Email\",\r\n          required: true\r\n        },\r\n        value: \"\",\r\n        id: \"email\",\r\n        label: \"Email\"\r\n      },\r\n      password: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          required: true,\r\n          type: \"password\",\r\n          placeholder: \"Your password\"\r\n        },\r\n        value: \"\",\r\n        label: \"Your password\",\r\n        id: \"password\"\r\n      }\r\n    },\r\n    userData: {},\r\n    uid: null,\r\n    errorMessage: null,\r\n    sMessage: null,\r\n    loading: true\r\n  };\r\n  componentDidMount() {\r\n\r\n    this.setState({ loading: false });\r\n  }\r\n  inputChanged = (e, id) => {\r\n    const updatedForm = {\r\n      ...this.state.form\r\n    };\r\n    const updatedFormEl = { ...updatedForm[id] };\r\n    updatedFormEl.value = e.target.value;\r\n\r\n    updatedForm[id] = updatedFormEl;\r\n\r\n    this.setState({ form: updatedForm });\r\n  };\r\n\r\n  googleLogin = () => {\r\n    var provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n    this.setState({ loading: true, sMessage: \"Checking info  !\" });\r\n    firebase.auth().signInWithRedirect(provider).then(function () {\r\n      return firebase.auth().getRedirectResult();\r\n    }).then(result => {\r\n      var user = result.user;\r\n      this.saveUser(user);\r\n    })\r\n      .catch(error => {\r\n        var errorMessage = error.message;\r\n        this.setState({ errorMessage: errorMessage, loading: false });\r\n      });\r\n  };\r\n\r\n  saveUser = user => {\r\n    var ref = firebase.database().ref(\"users/\");\r\n    this.setState({ loading: true, sMessage: \"Processing !\" });\r\n    ref.once(\"value\", s => {\r\n      const id = user.uid;\r\n      if (s.val()[id]) {\r\n        this.setState({\r\n          loading: false,\r\n          userExist: true,\r\n          photo: s.val()[id].profilePicture,\r\n          name: s.val()[id].username\r\n        });\r\n      } else {\r\n        this.setState({ loading: true, sMessage: \"Completing Signup  !\" });\r\n        ref\r\n          .child(id)\r\n          .set({\r\n            username: user.displayName.toLowerCase(),\r\n            coverPhoto: cover,\r\n            profilePicture: user.photoURL\r\n          })\r\n          .then(() => {\r\n            alert('then')\r\n            this.setState({ loading: false, errorMessage: null, redirect: id });\r\n          })\r\n          .catch(() => {\r\n            this.setState({\r\n              loading: false,\r\n              errorMessage: \"Failed to save user to database\"\r\n            });\r\n          });\r\n      }\r\n    });\r\n  };\r\n  signUpHandler = event => {\r\n    event.preventDefault();\r\n    this.setState({ loading: true, sMessage: \"Checking info\" });\r\n    const formData = {};\r\n    for (let formId in this.state.form) {\r\n      formData[formId] = this.state.form[formId].value;\r\n    }\r\n\r\n    var ref = firebase.database().ref(\"users\");\r\n\r\n    ref.once(\"value\", s => {\r\n      this.setState({ sMessage: \"Wait na  ...\" });\r\n      var usernameExist = false;\r\n      for (let keys in s.val()) {\r\n        if (\r\n          formData.username.toLowerCase() ===\r\n          s.val()[keys].username.toLowerCase()\r\n        ) {\r\n          usernameExist = true;\r\n        }\r\n      }\r\n      if (usernameExist) {\r\n        this.setState({\r\n          errorMessage: (\r\n            <span>\r\n              Username <strong>{formData.username}</strong> Exists. Please{\" \"}\r\n              <strong>Pick another username</strong>\r\n            </span>\r\n          ),\r\n          loading: false\r\n        });\r\n      } else {\r\n        firebase\r\n          .auth()\r\n          .createUserWithEmailAndPassword(formData.email, formData.password)\r\n          .then(res => {\r\n            var user = firebase.auth().currentUser;\r\n            this.setState({ sMessage: \"Please wait\" });\r\n            this.saveUser(user);\r\n            user.updateProfile({\r\n              displayName: formData.username.toLowerCase(),\r\n              photoURL: Picture\r\n            })\r\n              .then(() => {\r\n                // this.saveUser(user);\r\n              })\r\n              .catch(error => {\r\n                // An error happened.\r\n                const errorMessage = \"Failed Authenticate\";\r\n                this.setState({ loading: false, errorMessage: errorMessage });\r\n              });\r\n          })\r\n          .catch(error => {\r\n            // Handle Errors here.\r\n            var errorMessage = error.message;\r\n            this.setState({ loading: false, errorMessage: errorMessage });\r\n            // ...\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const formElementArray = [];\r\n    for (let key in this.state.form) {\r\n      formElementArray.push({\r\n        id: key,\r\n        config: this.state.form[key]\r\n      });\r\n    }\r\n    return this.state.loading ? (\r\n      <Spinner message={this.state.sMessage} />\r\n    ) : this.state.redirect ? <Redirect to={'/feed'} /> : this.state.userExist ? (\r\n      <div className=\"d-flex flex-column justify-content-center\">\r\n\r\n        <img\r\n          src={this.state.photo}\r\n          alt=\"\"\r\n          className=\"rounded-circle mx-auto my-2\"\r\n          style={{ height: \"5rem\" }}\r\n        />\r\n        <p>\r\n          An account was found for {this.state.name}. If this is you,{\" \"}\r\n          <Link to=\"login\">Proceed to login</Link> else{\" \"}\r\n          <Link\r\n            onClick={() => {\r\n              this.setState({ userExist: false });\r\n            }}\r\n            to=\"SignUp\"\r\n          >\r\n            Try again with another email\r\n          </Link>{\" \"}\r\n        </p>\r\n      </div>\r\n    ) : (\r\n        <form onSubmit={this.signUpHandler}>\r\n          {this.state.errorMessage ? (\r\n            <Alert type=\"danger\" show={true}>\r\n              {this.state.errorMessage}\r\n            </Alert>\r\n          ) : (\r\n              \"\"\r\n            )}\r\n\r\n          {formElementArray.map(el => (\r\n            <Input\r\n              elementType={el.config.elementType}\r\n              elementConfig={el.config.elementConfig}\r\n              value={el.config.value}\r\n              id={el.id}\r\n              key={el.config.id}\r\n              label={el.config.label}\r\n              changed={e => {\r\n                this.inputChanged(e, el.id);\r\n              }}\r\n            />\r\n          ))}\r\n\r\n          <button\r\n            className={\r\n              classes.btnLogin +\r\n              \" btn btn-lg btn-block  wow fadeInUp  text-uppercase font-weight-bold mb-2\"\r\n            }\r\n            type=\"submit\"\r\n          >\r\n            Sign Up\r\n        </button>\r\n          <p className=\"text-center text-primary\"> Or</p>\r\n          <button\r\n            className={classes.googleBtn + \"  wow fadeInUp btn btn-lg btn-block  mb-2\"}\r\n            type=\"button\"\r\n            onClick={this.googleLogin}\r\n          >\r\n            <img\r\n              src={google}\r\n              alt=\" \"\r\n              style={{ width: \"2rem\" }}\r\n              className=\"mr-4\"\r\n            />\r\n          Sign up with google\r\n        </button>\r\n          <div className=\"text-center  wow fadeInUpBig\">\r\n            <Link className=\"small\" to=\"/login\">\r\n              Already have an accout, Login\r\n          </Link>\r\n          </div>\r\n        </form>\r\n      );\r\n  }\r\n}\r\n\r\nexport default withRouter(Signin);\r\n","import React from \"react\";\r\nimport classes from \"./User.css\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nimport Login from \"../../component/Forms/Login/Login\";\r\nimport Signin from \"../../component/Forms/SignUp/SignUp\";\r\nimport Logo from \"../../component/Logo/Logo\";\r\nconst Account = props => {\r\n  var metaThemeColor = document.querySelector(\"meta[name=theme-color]\");\r\n  metaThemeColor.setAttribute(\"content\", \"var(--white)\");\r\n\r\n  return (\r\n    <div className={\"container-fluid \" + classes.Account}>\r\n      <div className=\"row no-gutter\">\r\n        <div\r\n          className={\r\n            \"  col-md-4 col-lg-6 d-none d-md-flex align-items-center \" +\r\n            classes.bgImage\r\n          }\r\n        ></div>\r\n        <div className={classes.login + \" col-md-8 px-0 bg-white col-lg-6\"}>\r\n          <div className={\"h-100 d-flex align-items-center py-4 \"}>\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-9   col-lg-8 mx-auto\">\r\n                  <Logo type=\"l1\" width=\"90%\" />\r\n                  <div className=\"px-3 my-4\">\r\n                    {props.location.pathname === \"/login\" ? (\r\n                      <h3>Welcome back !</h3>\r\n                    ) : (\r\n                      <h5>Get started with us today ! </h5>\r\n                    )}\r\n                  </div>\r\n                  <Route path=\"/signUp\" component={Signin} />\r\n                  <Route path=\"/login\" component={Login} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Account;\r\n","import React, { Component } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport Modal from './component/UI/BtModal/BtModal';\nimport Toast from './component/UI/Toast/Toast';\nimport Messages from './container/Messages/Messages'\nimport Edit from './container/Edit/Edit'\nimport Home from './container/Home/Home'\nimport Profile from './container/Profile/Profile'\nimport User from './container/User/User'\n\nclass App extends Component {\n  state = {\n    toast: null\n  }\n  componentDidMount() {\n    // this.checkOnlineState()\n    // this.messageing()\n    const light = `:root { --blue: #007bff; --indigo: #6610f2; --purple: #6f42c1; --pink: #e83e8c; --red: #dc3545; --orange: #fd7e14; --yellow: #ffc107; --green: #28a745; --teal: #20c997; --cyan: #17a2b8; --white: #fff; --gray: #eee; --black: #000; --gray-dark: #777; --primary: #007bff; --secondary: #ddd; --success: #28a745; --info: #17a2b8; --warning: #ffc107; --danger: #dc3545; --light: #f9f9f9; --dark: #343a40;  }`;\n    const dark = `:root { --blue: #007bff; --indigo: #6610f2; --purple: #6f42c1; --pink: #e83e8c; --red: #fbeaec; --orange: #fd7e14; --yellow: #ffc107; --green: #28a745; --teal: #20c997; --cyan: #17a2b8; --white: #171e25; --gray: #101010; --gray-dark: #aaa; --primary: #007bff; --secondary: #777; --success: #28a745; --info: #17a2b8; --warning: #ffc107; --danger: #dc3545; --light: #11161b; --dark: #f7f7f7; --black: #fff;  }`;\n\n    let theme = localStorage.getItem('skychatTheme');\n    // const StatusBar = window.StatusBar\n    // StatusBar.overlaysWebView(true);\n    // StatusBar.styleLightContent();\n    // StatusBar.styleBlackOpaque();\n    // StatusBar.styleDefault();\n    let domeTheme = dark\n    var metaThemeColor = document.querySelector(\"meta[name=theme-color]\");\n    if (theme === null) {\n      localStorage.setItem('skychatTheme', 'light')\n    } else if (theme === 'dark') {\n      domeTheme = dark\n      metaThemeColor.setAttribute(\"content\", ' #171e25');\n      // StatusBar.styleBlackTranslucent();\n    }\n    else if (theme === 'light') {\n      metaThemeColor.setAttribute(\"content\", ' #fff');\n      domeTheme = light\n      // StatusBar.styleDefault();\n\n    }\n    console.log(theme);\n    const style = document.getElementById('style')\n    style.innerHTML = domeTheme\n\n    let hasUsed = localStorage.getItem('hasUsedSkychat');\n    if (hasUsed) {\n      this.setState({ shouldRedirect: true })\n    }\n  }\n\n  render() {\n\n    return (\n      <BrowserRouter>\n        {window.innerWidth < 1200 ?\n          <Modal show={false} click={this.toggleFullscreen} btn=\"Toggle Fullscreen\">\n            This app is best enjoyed in fullscreen\n        </Modal> : null\n        }\n        <style id=\"style\"></style>\n        {this.state.toast ? <Toast>{this.state.toast}</Toast> : null}\n        <Switch>\n          {/* {this.state.shouldRedirect ? <Redirect exact from=\"/\" to=\"/feed\" /> : null} */}\n          <Route path=\"/login\" exact component={User} />\n          <Route path=\"/signUp\" exact component={User} />\n          <Route path=\"/messages/:chatId\" component={Messages} />\n          <Route path=\"/messages/\" component={Messages} />\n          <Redirect from='/undefined' to='/' />\n          <Route path=\"/notifications\" exact component={Profile} />\n          <Route path=\"/menu\" component={Profile} />\n          <Route path=\"/feed\" component={Profile} />\n          <Route path=\"/edit-profile\" component={Edit} />\n          <Route path=\"/:profile\" exact component={Profile} />\n          <Route path=\"/\" component={Home} />\n          <Route render={() => (<h1>Not found</h1>)} />\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'cordova_script';\r\n\r\n\r\ndocument.addEventListener('deviceready', () => {\r\n\r\n    ReactDOM.render(\r\n        <div>\r\n            <App cordovaWork={true} />\r\n        </div>,\r\n        document.getElementById('root')\r\n    );\r\n}, false);\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}